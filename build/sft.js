(()=>{var e={8265:(e,t,n)=>{"use strict";n.r(t)},3379:(e,t,n)=>{"use strict";n.r(t)},702:(e,t,n)=>{"use strict";n.r(t)},4310:(e,t,n)=>{"use strict";n.r(t)},5648:(e,t,n)=>{"use strict";n.r(t)},4311:(e,t,n)=>{"use strict";n.r(t)},3292:(e,t,n)=>{"use strict";n.r(t)},2811:(e,t,n)=>{"use strict";n.r(t)},4648:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragEvent=t.eDragEventType=t.modalDialogButton=void 0;var n;t.modalDialogButton=function(e,t){this.label=e,this.handler=t},function(e){e[e.unknown=0]="unknown",e[e.canvas=1]="canvas",e[e.table=2]="table",e[e.link=3]="link",e[e.dialog=4]="dialog"}(n=t.eDragEventType||(t.eDragEventType={}));var o=function(){function e(){this.type=n.unknown,this.sourceElement=null,this.targetElement=null,this.mouseX=0,this.mouseY=0,this.mouseOffsetX=0,this.mouseOffsetY=0}return e.start=function(t,n,o,r){var a=new e;return a.type=t,a.sourceElement=n,a.targetElement=null,a.mouseX=o,a.mouseY=r,a.mouseOffsetX=o,a.mouseOffsetY=r,a},e.prototype.drag=function(e,t){this.mouseX=e,this.mouseY=t},e.prototype.end=function(e,t,o){this.targetElement=e,this.mouseX=t,this.mouseY=o,this.type=n.unknown},e}();t.DragEvent=o},1606:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.FlowContextMenu=void 0;var a=n(7363);n(8265);var i=function(e){function t(t){var n=e.call(this,t)||this;return n.displayStyle={},n.menuItems=[],n.showContextMenu=n.showContextMenu.bind(n),n.hideContextMenu=n.hideContextMenu.bind(n),n.positionContextMenu=n.positionContextMenu.bind(n),n}return r(t,e),t.prototype.setMenu=function(e){this.menu=e},t.prototype.positionContextMenu=function(e,t){e<window.innerWidth/2?(this.displayStyle.left=e-10,this.displayStyle.right=void 0):(this.displayStyle.left=void 0,this.displayStyle.right=window.innerWidth-(e+10)),t<window.innerHeight/2?(this.displayStyle.top=t-10,this.displayStyle.bottom=void 0):(this.displayStyle.top=void 0,this.displayStyle.bottom=window.innerHeight-(t+10)+"px"),this.displayStyle.display="block"},t.prototype.showContextMenu=function(e,t,n){if(n.size>0){var o=[];n.forEach((function(e){o.push(e)})),this.menuItems=o,this.positionContextMenu(e,t),this.forceUpdate()}},t.prototype.hideContextMenu=function(){this.displayStyle.display="none",this.menuItems=[],this.forceUpdate()},t.prototype.render=function(){var e=this;return a.createElement("div",{className:"cm",onMouseLeave:this.hideContextMenu,style:{left:this.displayStyle.left,right:this.displayStyle.right,top:this.displayStyle.top,bottom:this.displayStyle.bottom,display:this.displayStyle.display},ref:function(t){return e.setMenu(t)}},a.createElement("ul",{className:"cm-list"},this.menuItems))},t}(a.Component);t.FlowContextMenu=i},9889:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowDialogBox=void 0;var s=n(7363),l=n(4648);n(3379);var c=function(e){function t(t){var n=e.call(this,t)||this;return n.dragEvent=new l.DragEvent,n.dialogVisible=!1,n.dialogTitle="",n.dialogButtons=[],n.dialogOnClose=n.hideDialog,n.top=0,n.left=0,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleOutsideClick=n.handleOutsideClick.bind(n),n.showDialog=n.showDialog.bind(n),n.hideDialog=n.hideDialog.bind(n),n}return r(t,e),t.prototype.setDialog=function(e){if(this.dialog=e,this.dialog){var t=this.dialog.offsetParent.clientWidth/2,n=this.dialog.offsetParent.clientHeight/2,o=this.dialog.clientWidth/2,r=this.dialog.clientHeight/2;this.left=t-o,this.top=n-r,this.dialog.classList.add("shown"),this.positionDialog()}},t.prototype.positionDialog=function(){this.dialog&&(this.dialog.style.left=this.left+"px",this.dialog.style.top=this.top+"px")},t.prototype.stopEventBubble=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.showDialog=function(e,t,n,o){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.dialogVisible=!0,this.dialogTitle=e,this.dialogContent=t,this.dialogOnClose=o||this.hideDialog,this.dialogButtons=n,this.forceUpdate(),[2]}))}))},t.prototype.hideDialog=function(e){return a(this,void 0,void 0,(function(){return i(this,(function(e){return this.dialogVisible=!1,this.dialogTitle="",this.dialogContent=void 0,this.dialogOnClose=void 0,this.dialogButtons=[],this.forceUpdate(),[2]}))}))},t.prototype.handleKeyUp=function(e){var t=this,n={27:function(){e.preventDefault(),t.hideDialog()}};n[e.keyCode]&&n[e.keyCode]()},t.prototype.handleOutsideClick=function(e){this.dialog||this.dialog.contains(e.target)||this.hideDialog()},t.prototype.render=function(){var e,t=this;if(!1===this.dialogVisible)e=s.createElement("div",null);else{for(var n=[],o=function(e){n.push(s.createElement("button",{className:"modal-dialog-button-bar-button",title:"Cancel",onMouseDown:function(t){t.stopPropagation(),e.handler()}},e.label))},r=0,a=this.dialogButtons;r<a.length;r++)o(a[r]);e=s.createElement("div",{className:"modal-redaction",onMouseMove:function(e){t.onMouseMove(e)},onMouseUp:function(e){t.onMouseUp(e)},onMouseDown:function(e){t.handleOutsideClick(e)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),t.props.onContextMenu&&t.props.onContextMenu()}},s.createElement("div",{className:"modal-content",ref:function(e){return t.dialog=e}},s.createElement("div",{className:"modal-dialog"},s.createElement("div",{className:"modal-dialog-header",onMouseDown:function(e){t.onMouseDown(e)}},s.createElement("div",{style:{display:"flex",flexDirection:"row",flexGrow:1}},s.createElement("span",{className:"modal-dialog-header-title"},this.props.title)),s.createElement("div",{style:{display:"flex",flexDirection:"row",marginLeft:"auto",flexGrow:0}},s.createElement("span",{className:"glyphicon glyphicon-remove modal-dialog-header-button",style:{cursor:"pointer",color:"#fefefe",marginRight:"5px",fontSize:"14pt"},title:"Close",onMouseDown:function(e){e.stopPropagation(),t.props.onClose("cancel")}}))),s.createElement("div",{className:"modal-dialog-body"},s.createElement("div",{className:"modal-dialog-body-client"},this.props.children)),s.createElement("div",{className:"modal-dialog-button-bar"},n))))}return e},t.prototype.moveMe=function(e,t){this.left=e,this.top=t,this.positionDialog()},t.prototype.onMouseDown=function(e){var t=e.target.getBoundingClientRect(),n=e.clientY-t.top;this.dragEvent=l.DragEvent.start(l.eDragEventType.dialog,this,e.clientX-t.left,n)},t.prototype.onMouseMove=function(e){this.dragEvent.type===l.eDragEventType.dialog&&this.moveMe(e.clientX-this.dragEvent.mouseOffsetX,e.clientY-this.dragEvent.mouseOffsetY)},t.prototype.onMouseUp=function(e){this.dragEvent.type===l.eDragEventType.dialog&&this.dragEvent.end(null,e.clientX,e.clientY)},t}(s.Component);t.FlowDialogBox=c},5608:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowMessageBox=void 0;var s=n(7363),l=n(4648);n(702);var c=function(e){function t(t){var n=e.call(this,t)||this;return n.dragEvent=new l.DragEvent,n.top=0,n.left=0,n.msgboxVisible=!1,n.msgboxTitle="",n.msgboxButtons=[],n.msgboxOnClose=n.hideMessageBox,n.handleKeyUp=n.handleKeyUp.bind(n),n.setDialog=n.setDialog.bind(n),n.showMessageBox=n.showMessageBox.bind(n),n.hideMessageBox=n.hideMessageBox.bind(n),n.positionDialog=n.positionDialog.bind(n),n}return r(t,e),t.prototype.setDialog=function(e){if(this.dialog=e,this.dialog){var t=this.dialog.offsetParent.clientWidth/2,n=this.dialog.offsetParent.clientHeight/2,o=this.dialog.clientWidth/2,r=this.dialog.clientHeight/2;this.left=t-o,this.top=n-r,this.dialog.classList.add("shown"),this.positionDialog()}},t.prototype.positionDialog=function(){this.dialog&&(this.dialog.style.left=this.left+"px",this.dialog.style.top=this.top+"px")},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.showMessageBox=function(e,t,n,o){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.msgboxVisible=!0,this.msgboxTitle=e,this.msgboxContent=t,this.msgboxOnClose=o||this.hideMessageBox,this.msgboxButtons=n,this.forceUpdate(),[2]}))}))},t.prototype.hideMessageBox=function(e){return a(this,void 0,void 0,(function(){return i(this,(function(e){return this.msgboxVisible=!1,this.msgboxTitle="",this.msgboxContent=void 0,this.msgboxOnClose=void 0,this.msgboxButtons=[],this.forceUpdate(),[2]}))}))},t.prototype.stopEventBubble=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},t.prototype.handleKeyUp=function(e){var t=this,n={27:function(){e.preventDefault(),t.hideMessageBox()}};n[e.keyCode]&&n[e.keyCode]()},t.prototype.render=function(){var e,t=this;if(!1===this.msgboxVisible)e=s.createElement("div",null);else{for(var n=[],o=function(e){n.push(s.createElement("button",{className:"modal-dialog-button-bar-button",title:"Cancel",onMouseDown:function(t){t.stopPropagation(),e.handler()}},e.label))},r=0,a=this.msgboxButtons;r<a.length;r++)o(a[r]);e=s.createElement("div",{className:"message-box-redaction",onMouseMove:function(e){t.onMouseMove(e)},onMouseUp:function(e){t.onMouseUp(e)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),t.props.onContextMenu&&t.props.onContextMenu()}},s.createElement("div",{className:"message-box-content",ref:function(e){return t.setDialog(e)}},s.createElement("div",{className:"message-box-dialog"},s.createElement("div",{className:"message-box-dialog-header",onMouseDown:function(e){t.onMouseDown(e)}},s.createElement("div",{style:{display:"flex",flexDirection:"row",flexGrow:1}},s.createElement("span",{className:"message-box-dialog-header-title"},this.msgboxTitle)),s.createElement("div",{style:{display:"flex",flexDirection:"row",marginLeft:"auto",flexGrow:0}},s.createElement("span",{className:"glyphicon glyphicon-remove message-box-dialog-header-button",style:{cursor:"pointer",color:"#fefefe",marginRight:"5px",fontSize:"14pt"},title:"Close",onMouseDown:function(e){t.stopEventBubble(e),t.hideMessageBox()}}))),s.createElement("div",{className:"message-box-dialog-body"},this.msgboxContent),s.createElement("div",{className:"modal-dialog-button-bar"},n))))}return e},t.prototype.moveMe=function(e,t){this.left=e,this.top=t,this.positionDialog()},t.prototype.onMouseDown=function(e){var t=e.target.getBoundingClientRect(),n=e.clientY-t.top;this.dragEvent=l.DragEvent.start(l.eDragEventType.dialog,this,e.clientX-t.left,n)},t.prototype.onMouseMove=function(e){this.dragEvent.type===l.eDragEventType.dialog&&this.moveMe(e.clientX-this.dragEvent.mouseOffsetX,e.clientY-this.dragEvent.mouseOffsetY)},t.prototype.onMouseUp=function(e){this.dragEvent.type===l.eDragEventType.dialog&&this.dragEvent.end(null,e.clientX,e.clientY)},t}(s.Component);t.FlowMessageBox=c},7026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),manywho.eventManager||(manywho.eventManager={},manywho.eventManager.beforeSendListeners={},manywho.eventManager.doneListeners={},manywho.eventManager.initializedListeners={},manywho.eventManager.joinListeners={},manywho.eventManager.failListeners={},manywho.eventManager.outcomeBeingTriggered,manywho.eventManager.history=[],manywho.eventManager.beforeSend=function(e,t){for(var n in e&&window.hasOwnProperty("culture")&&culture.length>0&&e.setRequestHeader("Culture",culture),manywho.eventManager.beforeSendListeners)manywho.eventManager.beforeSendListeners[n](e,t)},manywho.eventManager.join=function(e,t){for(var n in manywho.eventManager.joinListeners)manywho.eventManager.joinListeners[n](e,t)},manywho.eventManager.done=function(e,t){for(var n in manywho.eventManager.doneListeners)manywho.eventManager.doneListeners[n](e,t)},manywho.eventManager.initialized=function(e,t){for(var n in manywho.eventManager.initializedListeners)manywho.eventManager.initializedListeners[n](e,t)},manywho.eventManager.fail=function(e,t){for(var n in manywho.eventManager.failListeners)manywho.eventManager.failListeners[n](e,t)},manywho.eventManager.addBeforeSendListener=function(e,t){manywho.eventManager.beforeSendListeners[t]=e},manywho.eventManager.removeBeforeSendListener=function(e){delete manywho.eventManager.beforeSendListeners[e]},manywho.eventManager.addInitializedListener=function(e,t){manywho.eventManager.initializedListeners[t]=e},manywho.eventManager.removeInitializedListener=function(e){delete manywho.eventManager.initializedListeners[e]},manywho.eventManager.addJoinListener=function(e,t){manywho.eventManager.joinListeners[t]=e},manywho.eventManager.removeJoinListener=function(e){delete manywho.eventManager.joinListeners[e]},manywho.eventManager.addDoneListener=function(e,t){manywho.eventManager.doneListeners[t]=e},manywho.eventManager.removeDoneListener=function(e){delete manywho.eventManager.doneListeners[e]},manywho.eventManager.addFailListener=function(e,t){manywho.eventManager.failListeners[t]=e},manywho.eventManager.removeFailListener=function(e){delete manywho.eventManager.failListeners[e]},manywho.settings.initialize(null,{invoke:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.done,fail:manywho.eventManager.fail},initialization:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.initialized,fail:manywho.eventManager.fail},join:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.join,fail:manywho.eventManager.fail}}))},6663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowAttribute=void 0;var n=function(){function e(e,t){this.Name=e,this.Value=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this.Name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.Value},enumerable:!1,configurable:!0}),e}();t.FlowAttribute=n},9347:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowBaseComponent=t.eLoadingState=void 0;var s=n(7363);n(7026);var l,c=n(6663),u=n(899),d=n(7400),p=n(2106),h=n(4718),f=n(6627),m=n(7362);!function(e){e[e.ready=0]="ready",e[e.loading=1]="loading",e[e.saving=2]="saving",e[e.moving=3]="moving",e[e.inititializing=4]="inititializing",e[e.inititialized=5]="inititialized",e[e.mounting=6]="mounting",e[e.mounted=7]="mounted"}(l=t.eLoadingState||(t.eLoadingState={}));var v=function(e){function t(t){var n=e.call(this,t)||this;n.Fields={},n.Attributes={},n.Outcomes={},n.sendCollaborationMessage=m(n._sendCollaborationMessage,100,null),n.Fields={},n.LoadingState=l.inititializing,n.loadAllValues=n.loadAllValues.bind(n),n.dontLoadAllValues=n.dontLoadAllValues.bind(n),n.updateValues=n.updateValues.bind(n),n.triggerOutcome=n.triggerOutcome.bind(n),n.ComponentId=n.props.id,n.ParentId=n.props.parentId,n.FlowKey=n.props.flowKey,n.Attributes={},n.loadModel=n.loadModel.bind(n),n.loadAttributes=n.loadAttributes.bind(n),n.loadOutcomes=n.loadOutcomes.bind(n),n.receiveMessage=n.receiveMessage.bind(n),n.getStateValue=n.getStateValue.bind(n),n.setStateValue=n.setStateValue.bind(n),n.getStateValueType=n.getStateValueType.bind(n),n.sendCollaborationMessage=n.sendCollaborationMessage.bind(n),n.onBeforeSend=n.onBeforeSend.bind(n),n.onDone=n.onDone.bind(n),n.calculateValue=n.calculateValue.bind(n),window.addEventListener("message",n.receiveMessage,!1),n.loadModel(),n.loadAttributes(),n.loadOutcomes();var o="";return!manywho.settings.global("platform.uri")&&manywho.settings.global("platform.uri").length<=0&&(o=window.location.origin||"https://flow.manywho.com"),n.StateId=manywho.utils.extractStateId(n.props.flowKey),n.TenantId=manywho.utils.extractTenantId(n.props.flowKey),n.invokeurl=o+"/api/run/1/state/"+n.StateId,n.url=o+"/api/run/1/state/"+n.StateId+"/values",n.userurl=o+"/api/run/1/state/"+n.StateId+"/values/03dc41dd-1c6b-4b33-bf61-cbd1d0778fff",n.valueurl=o+"/api/run/1/state/"+n.StateId+"/values/name",n.LoadingState=l.inititialized,n}return r(t,e),Object.defineProperty(t.prototype,"tenantId",{get:function(){return this.TenantId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateId",{get:function(){return this.StateId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flowKey",{get:function(){return this.FlowKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentId",{get:function(){return this.ComponentId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.ParentId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.LoadingState===l.ready},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingState",{get:function(){return this.LoadingState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outcomes",{get:function(){return this.Outcomes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.Attributes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return this.Fields},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this.Model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.User},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"joinURI",{get:function(){return window.location.href},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesignTime",{get:function(){return this.IsDesignTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authenticationToken",{get:function(){return JSON.parse(sessionStorage.flowUser).authenticationToken},enumerable:!1,configurable:!0}),t.prototype.getAttribute=function(e,t){return this.attributes[e]?this.attributes[e].value:t||""},t.prototype.onBeforeSend=function(e,t){if(t){var n=this.getOutcomeById(t.mapElementInvokeRequest.selectedOutcomeId),o=manywho.eventManager.outcomeBeingTriggered;n&&(o&&o.id===n.id||(manywho.eventManager.outcomeBeingTriggered=n))}else manywho.eventManager.outcomeBeingTriggered=void 0},t.prototype.calculateValue=function(e){if(e.startsWith("{{")&&e.endsWith("}}")){for(var t=e.replace("{{",""),n=void 0,o="",r=(t=t.replace("}}","")).split("."),a=0;a<r.length;a++)if(0===a)(n=this.fields[r[a]])?n.ContentType!==d.eContentType.ContentObject&&n.ContentType!==d.eContentType.ContentList&&(o=n.value):(console.log("The Value ["+r[a]+"] was not found, have you included it in your flow"),o=e);else if(n){var i=n.value.properties[r[a]];i?i.contentType===d.eContentType.ContentObject||i.contentType===d.eContentType.ContentList?n=n.value.properties[r[a]].value:o=n.value.properties[r[a]].value:o=e}else o=e;return o}return e},t.prototype.onDone=function(e,t){return a(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(o){switch(o.label){case 0:return"FORWARD"!==e.invokeType?[3,2]:(manywho.model.parseEngineResponse(e,this.flowKey),this.loadModel(),this.loadAttributes(),this.loadOutcomes(),[4,this.preserveState()]);case 1:o.sent(),o.label=2;case 2:return manywho.eventManager.outcomeBeingTriggered&&manywho.eventManager.outcomeBeingTriggered.attributes&&(t=manywho.eventManager.outcomeBeingTriggered,Object.keys(manywho.eventManager.outcomeBeingTriggered.attributes).forEach((function(e){return a(n,void 0,void 0,(function(){var n,o,r;return i(this,(function(a){switch(a.label){case 0:switch((n=manywho.eventManager.outcomeBeingTriggered.attributes[e]).name.toLowerCase()){case"autoclose":return[3,1];case"autoopen":return[3,2];case"autonav":case"automove":return[3,6];case"autoprint":return[3,10]}return[3,11];case 1:return"true"===n.value.toLowerCase()&&window.close(),[3,11];case 2:return(o=t.attributes.AutoOpenUrl||void 0)&&o.value.length>0?[4,this.calculateValue(o.value)]:[3,4];case 3:return r=a.sent(),window.open(r,"_blank"),[3,5];case 4:alert("No 'AutoOpenUrl' specified in the outcome's attributes"),a.label=5;case 5:return[3,11];case 6:return(o=t.attributes.AutoNavUrl||void 0)&&o.value.length>0?[4,this.calculateValue(o.value)]:[3,8];case 7:return r=a.sent(),window.open(r,"_blank"),[3,9];case 8:alert("No 'AutoNavUrl' specified in the outcome's attributes"),a.label=9;case 9:return[3,11];case 10:return window.print(),[3,11];case 11:return[2]}}))}))}))),this.LoadingState=l.ready,manywho.eventManager.outcomeBeingTriggered=void 0,[2]}}))}))},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this.LoadingState=l.mounting,manywho.eventManager.addDoneListener(this.onDone,this.componentId+"_core"),manywho.eventManager.addBeforeSendListener(this.onBeforeSend,this.componentId+"_core"),[4,this.preserveState()];case 1:return e.sent(),this.LoadingState=l.mounted,manywho.utils.removeLoadingIndicator("loader"),[2,Promise.resolve()]}}))}))},t.prototype.preserveState=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this.LoadingState=l.mounting,[4,this.setStateValue(this.getStateValue(!0))];case 1:return e.sent(),this.LoadingState=l.mounted,[2]}}))}))},t.prototype.componentWillUnmount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){return manywho.eventManager.removeBeforeSendListener(this.componentId+"_core"),manywho.eventManager.removeDoneListener(this.componentId+"_core"),[2,Promise.resolve()]}))}))},t.prototype.loadOutcome=function(e){if(e){var t=manywho.model.getOutcome(e,this.props.flowKey);if(t)return this.Outcomes[t.developerName]=new f.FlowOutcome(t),this.Outcomes[t.developerName]}},t.prototype.loadOutcomes=function(){this.Outcomes={};for(var e=manywho.model.getOutcomes(this.props.id,this.props.flowKey),t=0,n=e;t<n.length;t++){var o=n[t];this.Outcomes[o.developerName]=new f.FlowOutcome(o)}for(var r=0,a=e=manywho.model.getOutcomes("",this.props.flowKey);r<a.length;r++)o=a[r],this.Outcomes[o.developerName]=new f.FlowOutcome(o)},t.prototype.getOutcomeById=function(e){var t,n=this;return Object.keys(this.outcomes).forEach((function(o){n.outcomes[o].id===e&&(t=n.outcomes[o])})),t||(t=this.loadOutcome(e)),t},t.prototype.loadAttributes=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey);if(e){var t=e.attributes;if(t)for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];this.Attributes[r]=new c.FlowAttribute(r,t[r])}}},t.prototype.loadModel=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey);if(e){this.Model={contentType:e.contentType,content:e.content,dataSource:new h.FlowObjectDataArray([]),developerName:e.developerName,displayColumns:[],enabled:e.isEnabled,height:e.height,helpInfo:e.helpInfo,hintInfo:e.hintValue,joinUri:this.joinURI,label:e.label,maxSize:e.maxSize,multiSelect:e.isMultiSelect,readOnly:!e.isEditable,required:e.isRequired,searchable:e.isSearchable,size:e.size,validationMessage:e.validationMessage,visible:e.isVisible,width:e.width};var t=e.objectData;if(t)for(var n=0,o=t;n<o.length;n++){var r=o[n];this.Model.dataSource.addItem(new p.FlowObjectData([r]))}var a=e.columns;if(a)for(var i=0,s=a;i<s.length;i++){var l=s[i];this.Model.displayColumns.push(new u.FlowDisplayColumn(l))}}},t.prototype.loadValue=function(e){return a(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:this.LoadingState=l.loading,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.callRequest(this.valueurl+"/"+e,"GET",{})];case 2:return t=n.sent(),[3,5];case 3:return n.sent(),[3,5];case 4:return t&&(this.Fields[t.developerName]=new d.FlowField(t)),this.LoadingState=l.ready,[2,this.Fields[t.developerName]];case 5:return[2]}}))}))},t.prototype.loadValueNew=function(e){return a(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:this.LoadingState=l.loading,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.callRequest(this.valueurl+"/"+e,"GET",{})];case 2:return t=n.sent(),[3,5];case 3:return n.sent(),[3,5];case 4:return t&&(this.Fields[t.developerName]=new d.FlowField(t)),this.LoadingState=l.ready,[2,this.Fields[t.developerName]];case 5:return[2]}}))}))},t.prototype.callRequest=function(e,t,n){return a(this,void 0,void 0,(function(){var o,r,a,s,l;return i(this,(function(i){switch(i.label){case 0:return r={},a=manywho.state.getAuthenticationToken(this.flowKey),r.method=t,r.headers={"Content-Type":"application/json",ManyWhoTenant:this.tenantId},a&&(r.headers.Authorization=a),r.credentials="same-origin","POST"!==t&&"PUT"!==t||(r.body=JSON.stringify(n)),[4,fetch(e,r)];case 1:return 200!==(s=i.sent()).status?[3,3]:[4,s.json()];case 2:return o=i.sent(),console.log("Fetch Complete"),[3,5];case 3:return[4,s.text()];case 4:l=i.sent(),console.log("Fetch Failed - "+l),i.label=5;case 5:return[2,o]}}))}))},t.prototype.callRequestOldxx=function(e,t,n){return a(this,void 0,void 0,(function(){return i(this,(function(o){switch(o.label){case 0:return[4,manywho.connection.request(this,null,e,t,this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),n)];case 1:return[2,o.sent()]}}))}))},t.prototype.loadAllValues=function(){return a(this,void 0,void 0,(function(){var e,t,n,o=this;return i(this,(function(r){switch(r.label){case 0:return this.LoadingState=l.loading,this.Fields={},[4,this.callRequest(this.url,"GET",{})];case 1:return(r.sent()||[]).map((function(e){e&&(o.Fields[e.developerName]=new d.FlowField(e))})),[4,this.callRequest(this.userurl,"GET",{})];case 2:return(e=r.sent())&&(t=new d.FlowField(e),n=t.value.properties,this.User={directoryId:n["Directory Id"].value,directoryName:n["Directory Name"].value,email:n.Email.value||"mark",firstName:n["First Name"].value,groupId:n["Primary Group Id"].value,groupName:n["Primary Group Name"].value,id:n["User ID"].value,ipAddress:n["IP Address"].value,language:n.Language.value,lastName:n["Last Name"].value,location:n.Location.value,roleId:n["Role Id"].value,roleName:n["Role Name"].value,status:n.Status.value,userName:n.Username.value}),this.LoadingState=l.ready,[2,Promise.resolve()]}}))}))},t.prototype.dontLoadAllValues=function(){return a(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(o){switch(o.label){case 0:return this.LoadingState=l.loading,[4,this.callRequest(this.userurl,"GET",{})];case 1:return(e=o.sent())&&(t=new d.FlowField(e),n=t.value.properties,this.User={directoryId:n["Directory Id"].value,directoryName:n["Directory Name"].value,email:n.Email.value||"mark",firstName:n["First Name"].value,groupId:n["Primary Group Id"].value,groupName:n["Primary Group Name"].value,id:n["User ID"].value,ipAddress:n["IP Address"].value,language:n.Language.value,lastName:n["Last Name"].value,location:n.Location.value,roleId:n["Role Id"].value,roleName:n["Role Name"].value,status:n.Status.value,userName:n.Username.value}),this.LoadingState=l.ready,[2,Promise.resolve()]}}))}))},t.prototype.getStateValue=function(e){void 0===e&&(e=!1);var t=manywho.state.getComponent(this.componentId,this.flowKey)||{},n=manywho.model.getComponent(this.ComponentId,this.FlowKey);if(n)switch(n.contentType){case"ContentObject":return t.objectData&&t.objectData[0]&&t.objectData[0].properties.length>0?new p.FlowObjectData([t.objectData[0]]):(o=this.model.dataSource.getSelectedItems()).items.length>0?o.items[0]:void 0;case"ContentList":return t.objectData&&t.objectData.length>0?new h.FlowObjectDataArray(t.objectData):(o=this.model.dataSource.getSelectedItems()).items.length>0?o:void 0;var o;default:return!0===e?n.contentValue||null:t.contentValue||null}},t.prototype.getStateValueType=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey).contentType;return d.eContentType[e]},t.prototype.setStateValue=function(e,t){return a(this,void 0,void 0,(function(){var t,n,o,r,a;return i(this,(function(i){if(this.LoadingState===l.mounting||this.LoadingState===l.ready){if(t=this.loadingState,this.LoadingState=l.saving,n=manywho.model.getComponent(this.ComponentId,this.FlowKey),manywho.state.getComponent(this.componentId,this.flowKey),o=void 0,n)switch(n.contentType){case"ContentObject":r=null,e&&(e.isSelected=!0,r=e.iFlowObjectDataArray(),r=JSON.parse(JSON.stringify(r))),o={objectData:r},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;case"ContentList":a=null,e&&(a=e.iFlowObjectDataArray(),a=JSON.parse(JSON.stringify(a))),o={objectData:a},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;case"ContentDate":o={contentValue:e.toISOString()},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;default:o={contentValue:e},manywho.state.setComponent(this.componentId,o,this.flowKey,!0)}this.LoadingState=t,manywho.collaboration.isInitialized(this.flowKey)}return[2,Promise.resolve()]}))}))},t.prototype.eventHandled=function(e,t){console.log("ping")},t.prototype.updateValues=function(e){return a(this,void 0,void 0,(function(){var t,n,o,r,a=this;return i(this,(function(i){switch(i.label){case 0:if(this.LoadingState=l.saving,t=[],e.constructor.name===d.FlowField.name)t.push(e.iFlowField());else for(n=0,o=e;n<o.length;n++)r=o[n],t.push(r.iFlowField());return[4,this.callRequest(this.url,"POST",t)];case 1:return i.sent(),manywho.collaboration.isInitialized(this.flowKey)&&t.forEach((function(e){manywho.collaboration.push(a.ComponentId,{message:{action:"REFRESH_FIELD",fieldName:e.developerName}},a.flowKey)})),this.LoadingState=l.ready,[2,Promise.resolve()]}}))}))},t.prototype._sendCollaborationMessage=function(e){manywho.collaboration.isInitialized(this.flowKey)&&manywho.collaboration.push(this.ComponentId,{message:e},this.flowKey)},t.prototype.triggerOutcome=function(e,t){return a(this,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return this.LoadingState=l.moving,t||(t=[]),this.outcomes[e]&&(n=this.outcomes[e].iFlowOutcome()),n?[4,manywho.component.onOutcome(n,t,this.FlowKey)]:[3,2];case 1:return o.sent(),[3,3];case 2:this.log("Could not find outcome "+e),o.label=3;case 3:return[2,Promise.resolve()]}}))}))},t.prototype.moveTo=function(e,t){return a(this,void 0,void 0,(function(){var t,n,o,r;return i(this,(function(a){switch(a.label){case 0:return this.LoadingState=l.moving,t="/api/run/1/state/"+this.stateId,n=manywho.state.getState(this.flowKey),(o={}).currentMapElementId=n.currentMapElementId,o.invokeType="NAVIGATE",o.mapElementInvokeRequest={},o.mapElementInvokeRequest.selectedOutcomeId=null,o.pageRequest={pageComponentInputResponses:[{pageComponentId:this.componentId,contentValue:null,objectData:null}]},o.selectedMapElementId=e,o.stateId=this.stateId,o.stateToken=n.token,[4,manywho.connection.request(this,null,t,"POST",this.tenantId,this.stateId,manywho.state.getAuthenticationToken(this.flowKey),o)];case 1:return r=a.sent(),manywho.model.parseEngineResponse(r,this.flowKey),[4,manywho.engine.render(this.flowKey)];case 2:return a.sent(),[2,Promise.resolve()]}}))}))},t.prototype.log=function(e){var t=new Date,n="["+[("0"+t.getHours()).slice(-2),("0"+t.getMinutes()).slice(-2),("0"+t.getSeconds()).slice(-2)].join(":")+"] ";console.log(n+e)},t.prototype.launchFlowSilent=function(e,t,n,o){return a(this,void 0,void 0,(function(){var e,n,r;return i(this,(function(a){return e=manywho.settings.global("platform.uri")||"https://flow.manywho.com",n=e+"/api/run/1/state",(r={}).id=t,r.developerName=null,r.inputs=o?o.iFlowObjectDataArray():null,manywho.connection.request(this,"",n,"POST",this.TenantId,"",manywho.state.getAuthenticationToken(this.FlowKey),r),[2,Promise.resolve()]}))}))},t.prototype.launchFlowTab=function(e,t,n,o){return a(this,void 0,void 0,(function(){var o,r;return i(this,(function(a){return o=manywho.settings.global("platform.uri")||"https://flow.boomi.com",r=o+"/"+e+"/play/"+n+"?flow-id="+t,window.open(r,"_new"),[2,Promise.resolve()]}))}))},t.prototype.componentDidUpdate=function(){return a(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:if(!(e=manywho.state.getComponent(this.componentId,this.flowKey)))return[3,7];if(t=e.message,this.loadModel(),t&&manywho.state.setComponent(this.componentId,{message:{}},this.flowKey,!1),!t||!t.action)return[3,6];switch(t.action.toUpperCase()){case"REFRESH_FIELDS":return[3,1];case"REFRESH_FIELD":return[3,3]}return[3,5];case 1:return[4,this.loadAllValues()];case 2:case 4:return n.sent(),[3,6];case 3:return[4,this.loadValue(t.fieldName)];case 5:return[3,6];case 6:return[2,t];case 7:return[2]}}))}))},t.prototype.receiveMessage=function(e){return a(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:if(!e.data)return[3,9];if(!(t=e.data).action)return[3,9];switch(t.action.toUpperCase()){case"OUTCOME":return[3,1];case"REFRESH_FIELDS":return[3,3];case"REFRESH_FIELD":return[3,5]}return[3,7];case 1:return[4,this.triggerOutcome(t.data)];case 2:case 4:case 6:case 8:return n.sent(),[3,9];case 3:return[4,this.loadAllValues()];case 5:return[4,this.loadValue(t.fieldName)];case 7:return[4,this.handleMessage(t)];case 9:return[2,Promise.resolve()]}}))}))},t.prototype.handleMessage=function(e){return a(this,void 0,void 0,(function(){return i(this,(function(e){return[2,Promise.resolve()]}))}))},t}(s.Component);t.FlowBaseComponent=v},9654:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowChart=t.FlowChartColumnDefinition=t.eFlowChartType=void 0;var s,l=n(7363),c=n(9347),u=n(7400);!function(e){e[e.BarChart=0]="BarChart",e[e.ColumnChart=1]="ColumnChart",e[e.GeoChart=2]="GeoChart",e[e.PieChart=3]="PieChart",e[e.DonutChart=4]="DonutChart"}(s=t.eFlowChartType||(t.eFlowChartType={}));t.FlowChartColumnDefinition=function(e,t){this.developerName=e,this.type=t};var d=function(e){function t(t){var n=e.call(this,t)||this;return n.apiKey="",n.beginChartsApi=n.beginChartsApi.bind(n),n.apiLoaded=n.apiLoaded.bind(n),n.drawChart=n.drawChart.bind(n),n.flowMoved=n.flowMoved.bind(n),n.apiKey=n.getAttribute("APIKey",""),n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),[4,this.dontLoadAllValues()];case 2:return t.sent(),manywho.eventManager.addDoneListener(this.flowMoved,this.componentId),this.beginChartsApi(),[2]}}))}))},t.prototype.componentWillUnmount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentWillUnmount.call(this)];case 1:return t.sent(),manywho.eventManager.removeDoneListener(this.componentId),[2]}}))}))},t.prototype.flowMoved=function(e,t){return a(this,void 0,void 0,(function(){var n;return i(this,(function(o){return n=this,"FORWARD"===e.invokeType&&(this.loadingState!==c.eLoadingState.ready?window.setTimeout((function(){n.flowMoved(e,t)}),500):(manywho.model.parseEngineResponse(e,this.props.flowKey),this.beginChartsApi())),[2]}))}))},t.prototype.beginChartsApi=function(){if("undefined"==typeof google||void 0===google.charts)if(void 0===window.G13ChartLoading){var e=document.createElement("script");e.src="https://www.gstatic.com/charts/loader.js",e.addEventListener("load",this.apiLoaded),window.document.body.appendChild(e),window.G13ChartLoading=!0}else window.setTimeout(this.beginChartsApi,300);else this.apiLoaded()},t.prototype.apiLoaded=function(){var e;(null===google||void 0===google?void 0:google.charts)&&(null===(e=null===google||void 0===google?void 0:google.visualization)||void 0===e?void 0:e.GeoChart)?this.drawChart():(google.charts.load("current",{packages:["corechart","geochart","bar"],mapsApiKey:this.apiKey}),google.charts.setOnLoadCallback(this.drawChart))},t.prototype.buildData=function(e){var t=this;this.model.dataSource&&this.model.dataSource.items.forEach((function(n){var o=[];t.propertyNames.forEach((function(e){var t=n.properties[e.developerName];e.type===u.eContentType.ContentNumber?o.push(parseInt(t.value)):o.push(t.value)})),e.push(o)}))},t.prototype.manipulateDataTable=function(e,t){},t.prototype.drawChart=function(){var e=[];if(e.push(this.columnNames),this.buildData(e),this.chartData=google.visualization.arrayToDataTable(e),this.manipulateDataTable(google,this.chartData),!this.chart)switch(this.chartType){case s.BarChart:this.chart=new google.charts.Bar(document.getElementById(this.componentId)),this.chart.draw(this.chartData,google.charts.Bar.convertOptions(this.options));break;case s.ColumnChart:this.chart=new google.visualization.ColumnChart(document.getElementById(this.componentId)),this.chart.draw(this.chartData,this.options);break;case s.GeoChart:this.chart=new google.visualization.GeoChart(document.getElementById(this.componentId)),this.chart.draw(this.chartData,this.options);break;case s.PieChart:case s.DonutChart:this.chart=new google.visualization.PieChart(document.getElementById(this.componentId)),this.chart.draw(this.chartData,this.options)}},t.prototype.render=function(){return l.createElement("div",{id:this.componentId})},t}(c.FlowBaseComponent);t.FlowChart=d},1032:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowComponent=void 0;var s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),[4,this.dontLoadAllValues()];case 2:return t.sent(),[2,Promise.resolve()]}}))}))},t}(n(9347).FlowBaseComponent);t.FlowComponent=s},279:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1032),t),r(n(2638),t),r(n(9889),t),r(n(5608),t),r(n(1606),t),r(n(4648),t),r(n(6660),t),r(n(9347),t),r(n(6663),t),r(n(899),t),r(n(7400),t),r(n(2106),t),r(n(4718),t),r(n(2805),t),r(n(6627),t),r(n(9654),t)},899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowDisplayColumn=void 0;var o=n(7400),r=function(){function e(e){this.Column=e,this.ComponentType=e.componentType,this.ContentFormat=e.contentFormat,this.ContentType=o.eContentType[e.contentType],this.DeveloperName=e.developerName,this.DisplayOrder=e.order,this.Label=e.label,this.ReadOnly=!e.isEditable,this.TypeElememtPropertyToDisplayId=e.typeElememtPropertyToDisplayId,this.TypeElementPropertyId=e.typeElementPropertyId,this.Visible=e.isDisplayValue}return Object.defineProperty(e.prototype,"componentType",{get:function(){return this.ComponentType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentFormat",{get:function(){return this.ContentFormat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.Visible},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.ReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.Label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayOrder",{get:function(){return this.DisplayOrder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElememtPropertyToDisplayId",{get:function(){return this.TypeElememtPropertyToDisplayId},enumerable:!1,configurable:!0}),e.prototype.iFlowDisplayColumn=function(){return this.Column},e}();t.FlowDisplayColumn=r},7400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowField=t.eContentType=void 0;var o,r=n(2106),a=n(4718);!function(e){e[e.unknown=0]="unknown",e[e.ContentString=1]="ContentString",e[e.ContentNumber=2]="ContentNumber",e[e.ContentObject=3]="ContentObject",e[e.ContentBoolean=4]="ContentBoolean",e[e.ContentList=5]="ContentList",e[e.ContentPassword=6]="ContentPassword",e[e.ContentContent=7]="ContentContent",e[e.ContentDateTime=8]="ContentDateTime",e[e.ContentEncrypted=9]="ContentEncrypted"}(o=t.eContentType||(t.eContentType={}));var i=function(){function e(e){if(this.ContentType=o.unknown,this.DeveloperName="",this.TypeElementDeveloperName="",this.TypeElementId="",this.TypeElementPropertyDeveloperName="",this.TypeElementPropertyId="",this.ValueElementId="",e)switch(this.ContentType=o[e.contentType],this.DeveloperName=e.developerName,this.TypeElementDeveloperName=e.typeElementDeveloperName,this.TypeElementId=e.typeElementId,this.TypeElementPropertyDeveloperName=e.typeElementPropertyDeveloperName,this.TypeElementPropertyId=e.typeElementPropertyId,this.ValueElementId=e.valueElementId,this.ContentType){case o.ContentObject:this.Value=e.objectData?new r.FlowObjectData(e.objectData):void 0;break;case o.ContentList:this.Value=e.objectData&&e.objectData[0]?new a.FlowObjectDataArray(e.objectData):new a.FlowObjectDataArray([]);break;default:this.Value=e.contentValue}}return Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementDeveloperName",{get:function(){return this.TypeElementDeveloperName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyDeveloperName",{get:function(){return this.TypeElementPropertyDeveloperName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueElementId",{get:function(){return this.ValueElementId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.Value},set:function(e){this.Value=e},enumerable:!1,configurable:!0}),e.prototype.iFlowField=function(){var e="",t=[];switch(this.ContentType){case o.ContentObject:var n=this.Value;t.push(n.iObjectData());break;case o.ContentList:t=this.Value.iFlowObjectDataArray();break;default:e=this.Value?this.Value:""}return{contentType:o[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:t,typeElementDeveloperName:this.TypeElementDeveloperName,typeElementId:this.TypeElementId,typeElementPropertyDeveloperName:this.TypeElementPropertyDeveloperName,typeElementPropertyId:this.TypeElementPropertyId,valueElementId:this.ValueElementId}},e}();t.FlowField=i},2106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowObjectData=void 0;var o=n(2805),r=function(){function e(e){if(this.DeveloperName="",this.ExternalId="",this.InternalId="",this.IsSelected=!1,this.Order=0,this.TypeElementId="",this.Properties={},e&&e[0]){var t=e[0];if(this.DeveloperName=t.developerName,this.InternalId=t.internalId,this.ExternalId=t.externalId,this.Order=t.order,this.IsSelected=t.isSelected,this.TypeElementId=t.typeElementId,t.properties&&t.properties.length>0)for(var n=0,r=t.properties;n<r.length;n++){var a=r[n];this.Properties[a.developerName]=new o.FlowObjectDataProperty(a)}}else console.log("null data")}return Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},set:function(e){this.DeveloperName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalId",{get:function(){return this.ExternalId},set:function(e){this.ExternalId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"internalId",{get:function(){return this.InternalId},set:function(e){this.InternalId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.IsSelected},set:function(e){this.IsSelected=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.Order},set:function(e){this.Order=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},set:function(e){this.TypeElementId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.Properties},enumerable:!1,configurable:!0}),e.newInstance=function(e){return new this([{developerName:e,externalId:"",internalId:manywho.utils.guid(),isSelected:!1,order:0,properties:[],typeElementId:""}])},e.prototype.addProperty=function(e){this.Properties[e.developerName]=e},e.prototype.removeProperty=function(e){delete this.Properties[e]},e.prototype.clone=function(t){var n=this,o=e.newInstance(t||this.DeveloperName);return Object.keys(this.properties).forEach((function(e){var t=n.properties[e].clone();o.properties[e]=t})),o},e.prototype.iObjectData=function(e){for(var t=[],n=0,o=Object.keys(this.properties);n<o.length;n++){var r=o[n];t.push(this.properties[r].iFlowObjectDataProperty())}return{developerName:this.developerName,externalId:this.externalId,internalId:this.internalId,isSelected:e||this.isSelected,order:this.order,properties:t,typeElementId:this.TypeElementId}},e.prototype.iFlowObjectDataArray=function(e){var t=[];return t.push(this.iObjectData(e)),t},e}();t.FlowObjectData=r},4718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowObjectDataArray=t.eSortOrder=void 0;var o,r=n(7400),a=n(2106);!function(e){e[e.ascending=0]="ascending",e[e.descending=1]="descending"}(o=t.eSortOrder||(t.eSortOrder={}));var i=function(){function e(e){this.Items=[];for(var t=0,n=e||[];t<n.length;t++){var o=n[t];this.Items.push(new a.FlowObjectData([o]))}}return Object.defineProperty(e.prototype,"items",{get:function(){return this.Items},enumerable:!1,configurable:!0}),e.prototype.sort=function(e,t){return e===o.ascending?t?this.Items.sort((function(e,n){var o,a;switch(e.properties[t].contentType){case r.eContentType.ContentNumber:o=parseFloat(e.properties[t].value),a=parseFloat(n.properties[t].value);break;case r.eContentType.ContentDateTime:o=new Date(e.properties[t].value),a=new Date(n.properties[t].value);break;default:o=e.properties[t].value,a=n.properties[t].value}switch(!0){case o<a:return-1;case o>a:return 1;default:return 0}})):this.Items.sort((function(e,t){return e.order-t.order})):t?this.Items.sort((function(e,n){if(!(e&&n&&e.properties&&n.properties&&e.properties[t]&&n.properties[t]&&e.properties[t].value&&n.properties[t].value))return 0;if(!e.properties[t])return 0;switch(!0){case e.properties[t].value<n.properties[t].value:return 1;case e.properties[t].value>n.properties[t].value:return-1;default:return 0}})):this.Items.sort((function(e,t){return e.order-t.order}))},e.prototype.addItem=function(e){this.Items.push(e)},e.prototype.clearItems=function(){this.Items=[]},e.prototype.clone=function(){var t=new e;return this.items.forEach((function(e){t.addItem(e.clone())})),t},e.prototype.iFlowObjectDataArray=function(e){for(var t=[],n=0,o=this.Items;n<o.length;n++){var r=o[n];t.push(r.iObjectData(e))}return t},e.prototype.getItemWithPropertyName=function(e,t,n){for(var o=0,a=this.Items;o<a.length;o++){var i=a[o];if(i.properties[e]&&null!=i.properties[e].value){var s=i.properties[e].value,l=t;switch(i.properties[e].contentType){case r.eContentType.ContentString:s=s.toLowerCase(),l=l.toLowerCase();break;case r.eContentType.ContentNumber:s=s,l=parseFloat(l.toLowerCase());break;case r.eContentType.ContentBoolean:s=s,l="true"===new String(l).toLowerCase()}if(s===l)return i.properties[n]}}return null},e.prototype.getSelectedItems=function(){for(var t=new e,n=0,o=this.Items;n<o.length;n++){var r=o[n];!0===r.isSelected&&t.addItem(r)}return t},e.prototype.getItemWithPropertyValue=function(e,t){for(var n=0,o=this.Items;n<o.length;n++){var a=o[n];if(a.properties[e]&&null!=a.properties[e].value){var i=a.properties[e].value,s=t;switch(a.properties[e].contentType){case r.eContentType.ContentString:i=i.toLowerCase(),s=new String(s).toLowerCase();break;case r.eContentType.ContentNumber:i=i,s=parseFloat(new String(s).toLowerCase());break;case r.eContentType.ContentBoolean:i=i,s="true"===new String(s).toLowerCase()}if(i===s)return a}}},e.prototype.getIndexOfItemWithPropertyValue=function(e,t){for(var n=0;n<this.items.length;n++){var o=this.items[n];if(o.properties[e]&&null!=o.properties[e].value){var a=o.properties[e].value,i=t;switch(o.properties[e].contentType){case r.eContentType.ContentString:a=a.toLowerCase(),i=i.toLowerCase();break;case r.eContentType.ContentNumber:a=a,i=parseFloat(new String(i).toLowerCase());break;case r.eContentType.ContentBoolean:a=a,i="true"===new String(i).toLowerCase()}if(a===i)return n}}return-1},e.prototype.removeItemWithPropertyValue=function(e,t){for(var n=0,o=0;o<this.items.length;o++){var a=this.items[o];if(a.properties[e]&&null!=a.properties[e].value){var i=a.properties[e].value,s=t;switch(a.properties[e].contentType){case r.eContentType.ContentString:i=i.toLowerCase(),s=s.toLowerCase();break;case r.eContentType.ContentNumber:i=i,s=parseFloat(new String(s).toLowerCase());break;case r.eContentType.ContentBoolean:i=i,s="true"===new String(s).toLowerCase()}i===s&&(this.items.splice(o,1),n++)}}return n},e.prototype.removeItemAtIndex=function(e){var t=0;return this.items[e]&&(this.items.splice(e,1),t=e),t},e}();t.FlowObjectDataArray=i},2805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowObjectDataProperty=void 0;var o=n(7400),r=n(2106),a=n(4718),i=function(){function e(e){if(this.ContentFormat="",this.ContentType=o.eContentType.unknown,this.DeveloperName="",this.TypeElementId="",this.TypeElementPropertyId="",e)switch(this.DeveloperName=e.developerName,this.ContentType=o.eContentType[e.contentType],this.ContentFormat=e.contentFormat?e.contentFormat:"",this.TypeElementId=e.typeElementId?e.typeElementId:"",this.TypeElementPropertyId=e.typeElementPropertyId,this.ContentType){case o.eContentType.ContentObject:this.Value=e.objectData?new r.FlowObjectData(e.objectData):void 0;break;case o.eContentType.ContentList:this.value=e.objectData?new a.FlowObjectDataArray(e.objectData):new a.FlowObjectDataArray([]);break;default:this.value=e.contentValue?e.contentValue:""}}return e.newInstance=function(e,t,n){var r,a=[];switch(t){case o.eContentType.ContentObject:var i=n;a.push(i.iObjectData());break;case o.eContentType.ContentList:a=n.iFlowObjectDataArray();break;case o.eContentType.ContentNumber:case o.eContentType.ContentNumber:default:r=n}return new this({contentFormat:"",contentType:o.eContentType[t],contentValue:r,developerName:e,objectData:a,typeElementId:"",typeElementPropertyId:""})},Object.defineProperty(e.prototype,"contentFormat",{get:function(){return this.ContentFormat},set:function(e){this.contentFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},set:function(e){this.ContentType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},set:function(e){this.DeveloperName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},set:function(e){this.TypeElementId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},set:function(e){this.TypeElementPropertyId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){switch(this.contentType){case o.eContentType.ContentNumber:return parseFloat(this.Value?this.Value:"0");case o.eContentType.ContentBoolean:return"true"===new String(this.Value).toLowerCase();default:return this.Value}},set:function(e){this.Value=e},enumerable:!1,configurable:!0}),e.prototype.clone=function(){var t;switch(this.contentType){case o.eContentType.ContentList:t=new a.FlowObjectDataArray,this.value.items.forEach((function(e){t.addItem(e.clone(e.developerName))}));break;case o.eContentType.ContentObject:t=this.value.clone(this.value.developerName);break;default:t=this.value}return e.newInstance(this.developerName,this.contentType,t)},e.prototype.iFlowObjectDataProperty=function(){var e="",t=[];switch(this.ContentType){case o.eContentType.ContentObject:var n=this.Value;n&&n.developerName&&n.developerName.length>0&&t.push(n.iObjectData());break;case o.eContentType.ContentList:t=this.Value.iFlowObjectDataArray();break;default:e=this.Value}return{contentFormat:this.ContentFormat,contentType:o.eContentType[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:t,typeElementId:this.TypeElementId,typeElementPropertyId:this.TypeElementPropertyId}},Object.defineProperty(e.prototype,"displayString",{get:function(){var e="";if(this.Value)switch(this.ContentType){case o.eContentType.ContentString:case o.eContentType.ContentNumber:e=this.Value;break;case o.eContentType.ContentBoolean:e=!0===this.Value?"True":"False";break;case o.eContentType.ContentDateTime:var t=Date.parse(this.Value);if(!isNaN(t)){var n=new Date(t);return e.length<=10?n.toLocaleDateString():n.toLocaleString()}break;default:e=o.eContentType[this.ContentType]}else e="Undefined";return e},enumerable:!1,configurable:!0}),e}();t.FlowObjectDataProperty=i},6627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowOutcome=t.ePageActionType=t.ePageActionBindingType=void 0;var o,r,a=n(6663);(r=t.ePageActionBindingType||(t.ePageActionBindingType={})).Save="SAVE",r.PartialSave="PARTIAL_SAVE",r.NoSave="NO_SAVE",(o=t.ePageActionType||(t.ePageActionType={})).New="NEW",o.Query="QUERY",o.Insert="INSERT",o.Update="UPDATE",o.Upsert="UPSERT",o.Delete="DELETE",o.Remove="REMOVE",o.Add="ADD",o.Edit="EDIT",o.Next="NEXT",o.Back="BACK",o.Done="DONE",o.Save="SAVE",o.Cancel="CANCEL",o.Apply="APPLY",o.Import="IMPORT",o.Close="CLOSE",o.Open="OPEN",o.Submit="SUBMIT",o.Escalate="ESCALATE",o.Reject="REJECT",o.Delegate="DELEGATE";var i=function(){function e(e){if(this.DeveloperName=e.developerName,this.Id=e.id,this.IsBulkAction=e.isBulkAction,this.IsOut=e.isOut,this.Label=e.label,this.Order=e.order,this.PageActionBindingType=e.pageActionBindingType,this.PageActionType=e.pageActionType,this.PageObjectBindingId=e.pageObjectBindingId,this.Attributes={},e.attributes)for(var t=0,n=Object.keys(e.attributes);t<n.length;t++){var o=n[t];this.Attributes[o]=new a.FlowAttribute(o,e.attributes[o])}this.Outcome=e}return Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.Id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBulkAction",{get:function(){return this.IsBulkAction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOut",{get:function(){return this.IsOut},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.Label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.Order},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageActionBindingType",{get:function(){return this.PageActionBindingType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageActionType",{get:function(){return this.PageActionType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageObjectBindingId",{get:function(){return this.PageObjectBindingId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.Attributes},enumerable:!1,configurable:!0}),e.prototype.iFlowOutcome=function(){return this.Outcome},e}();t.FlowOutcome=i},2638:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowPage=void 0;var s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),[4,this.loadAllValues()];case 2:return t.sent(),[2,Promise.resolve()]}}))}))},t}(n(9347).FlowBaseComponent);t.FlowPage=s},6660:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(7363);n(4310);var i=function(e){function t(t){var n=e.call(this,t)||this;return n.icons={},n.selectedItem=n.props.onChangeValue,n.onchange=n.onchange.bind(n),n.addIcon=n.addIcon.bind(n),n.addIcons=n.addIcons.bind(n),n.addIcons(),n}return r(t,e),t.prototype.onchange=function(e){this.selectedItem=e.target.innerText,this.props.onChange&&this.props.onChange(this.selectedItem),this.forceUpdate()},t.prototype.addIcons=function(){this.addIcon("asterisk","Asterisk"),this.addIcon("plus","Plus"),this.addIcon("minus","Minus"),this.addIcon("eur","Eur"),this.addIcon("euro","Euro"),this.addIcon("cloud","Cloud"),this.addIcon("envelope","Envelope"),this.addIcon("pencil","Pencil"),this.addIcon("glass","Glass"),this.addIcon("music","Music"),this.addIcon("search","Search"),this.addIcon("heart","Heart"),this.addIcon("star","Star"),this.addIcon("star-empty","Star Empty"),this.addIcon("user","User"),this.addIcon("film","Film"),this.addIcon("th-large","Th Large"),this.addIcon("th","Th"),this.addIcon("th-list","Th List"),this.addIcon("ok","Ok"),this.addIcon("remove","Remove"),this.addIcon("zoom-in","Zoom In"),this.addIcon("zoom-out","Zoom Out"),this.addIcon("off","Off"),this.addIcon("signal","Signal"),this.addIcon("cog","Cog"),this.addIcon("trash","Trash"),this.addIcon("home","Home"),this.addIcon("file","File"),this.addIcon("time","Time"),this.addIcon("road","Road"),this.addIcon("download-alt","Download Alt"),this.addIcon("download","Download"),this.addIcon("upload","Upload"),this.addIcon("inbox","Inbox"),this.addIcon("play-circle","Play Circle"),this.addIcon("repeat","Repeat"),this.addIcon("refresh","Refresh"),this.addIcon("list-alt","List Alt"),this.addIcon("lock","Lock"),this.addIcon("flag","Flag"),this.addIcon("headphones","Headphones"),this.addIcon("volume-off","Volume Off"),this.addIcon("volume-down","Volume Down"),this.addIcon("volume-up","Volume Up"),this.addIcon("qrcode","Qrcode"),this.addIcon("barcode","Barcode"),this.addIcon("tag","Tag"),this.addIcon("tags","Tags"),this.addIcon("book","Book"),this.addIcon("bookmark","Bookmark"),this.addIcon("print","Print"),this.addIcon("camera","Camera"),this.addIcon("font","Font"),this.addIcon("bold","Bold"),this.addIcon("italic","Italic"),this.addIcon("text-height","Text Height"),this.addIcon("text-width","Text Width"),this.addIcon("align-left","Align Left"),this.addIcon("align-center","Align Center"),this.addIcon("align-right","Align Right"),this.addIcon("align-justify","Align Justify"),this.addIcon("list","List"),this.addIcon("indent-left","Indent Left"),this.addIcon("indent-right","Indent Right"),this.addIcon("facetime-video","Facetime Video"),this.addIcon("picture","Picture"),this.addIcon("map-marker","Map Marker"),this.addIcon("adjust","Adjust"),this.addIcon("tint","Tint"),this.addIcon("edit","Edit"),this.addIcon("share","Share"),this.addIcon("check","Check"),this.addIcon("move","Move"),this.addIcon("step-backward","Step Backward"),this.addIcon("fast-backward","Fast Backward"),this.addIcon("backward","Backward"),this.addIcon("play","Play"),this.addIcon("pause","Pause"),this.addIcon("stop","Stop"),this.addIcon("forward","Forward"),this.addIcon("fast-forward","Fast Forward"),this.addIcon("step-forward","Step Forward"),this.addIcon("eject","Eject"),this.addIcon("chevron-left","Chevron Left"),this.addIcon("chevron-right","Chevron Right"),this.addIcon("plus-sign","Plus Sign"),this.addIcon("minus-sign","Minus Sign"),this.addIcon("remove-sign","Remove Sign"),this.addIcon("ok-sign","Ok Sign"),this.addIcon("question-sign","Question Sign"),this.addIcon("info-sign","Info Sign"),this.addIcon("screenshot","Screenshot"),this.addIcon("remove-circle","Remove Circle"),this.addIcon("ok-circle","Ok Circle"),this.addIcon("ban-circle","Ban Circle"),this.addIcon("arrow-left","Arrow Left"),this.addIcon("arrow-right","Arrow Right"),this.addIcon("arrow-up","Arrow Up"),this.addIcon("arrow-down","Arrow Down"),this.addIcon("share-alt","Share Alt"),this.addIcon("resize-full","Resize Full"),this.addIcon("resize-small","Resize Small"),this.addIcon("exclamation-sign","Exclamation Sign"),this.addIcon("gift","Gift"),this.addIcon("leaf","Leaf"),this.addIcon("fire","Fire"),this.addIcon("eye-open","Eye Open"),this.addIcon("eye-close","Eye Close"),this.addIcon("warning-sign","Warning Sign"),this.addIcon("plane","Plane"),this.addIcon("calendar","Calendar"),this.addIcon("random","Random"),this.addIcon("comment","Comment"),this.addIcon("magnet","Magnet"),this.addIcon("chevron-up","Chevron Up"),this.addIcon("chevron-down","Chevron Down"),this.addIcon("retweet","Retweet"),this.addIcon("shopping-cart","Shopping Cart"),this.addIcon("folder-close","Folder Close"),this.addIcon("folder-open","Folder Open"),this.addIcon("resize-vertical","Resize Vertical"),this.addIcon("resize-horizontal","Resize Horizontal"),this.addIcon("hdd","Hdd"),this.addIcon("bullhorn","Bullhorn"),this.addIcon("bell","Bell"),this.addIcon("certificate","Certificate"),this.addIcon("thumbs-up","Thumbs Up"),this.addIcon("thumbs-down","Thumbs Down"),this.addIcon("hand-right","Hand Right"),this.addIcon("hand-left","Hand Left"),this.addIcon("hand-up","Hand Up"),this.addIcon("hand-down","Hand Down"),this.addIcon("circle-arrow-right","Circle Arrow Right"),this.addIcon("circle-arrow-left","Circle Arrow Left"),this.addIcon("circle-arrow-up","Circle Arrow Up"),this.addIcon("circle-arrow-down","Circle Arrow Down"),this.addIcon("globe","Globe"),this.addIcon("wrench","Wrench"),this.addIcon("tasks","Tasks"),this.addIcon("filter","Filter"),this.addIcon("briefcase","Briefcase"),this.addIcon("fullscreen","Fullscreen"),this.addIcon("dashboard","Dashboard"),this.addIcon("paperclip","Paperclip"),this.addIcon("heart-empty","Heart Empty"),this.addIcon("link","Link"),this.addIcon("phone","Phone"),this.addIcon("pushpin","Pushpin"),this.addIcon("usd","Usd"),this.addIcon("gbp","Gbp"),this.addIcon("sort","Sort"),this.addIcon("sort-by-alphabet","Sort By Alphabet"),this.addIcon("sort-by-alphabet-alt","Sort By Alphabet Alt"),this.addIcon("sort-by-order","Sort By Order"),this.addIcon("sort-by-order-alt","Sort By Order Alt"),this.addIcon("sort-by-attributes","Sort By Attributes"),this.addIcon("sort-by-attributes-alt","Sort By Attributes Alt"),this.addIcon("unchecked","Unchecked"),this.addIcon("expand","Expand"),this.addIcon("collapse-down","Collapse Down"),this.addIcon("collapse-up","Collapse Up"),this.addIcon("log-in","Log In"),this.addIcon("flash","Flash"),this.addIcon("log-out","Log Out"),this.addIcon("new-window","New Window"),this.addIcon("record","Record"),this.addIcon("save","Save"),this.addIcon("open","Open"),this.addIcon("saved","Saved"),this.addIcon("import","Import"),this.addIcon("export","Export"),this.addIcon("send","Send"),this.addIcon("floppy-disk","Floppy Disk"),this.addIcon("floppy-saved","Floppy Saved"),this.addIcon("floppy-remove","Floppy Remove"),this.addIcon("floppy-save","Floppy Save"),this.addIcon("floppy-open","Floppy Open"),this.addIcon("credit-card","Credit Card"),this.addIcon("transfer","Transfer"),this.addIcon("cutlery","Cutlery"),this.addIcon("header","Header"),this.addIcon("compressed","Compressed"),this.addIcon("earphone","Earphone"),this.addIcon("phone-alt","Phone Alt"),this.addIcon("tower","Tower"),this.addIcon("stats","Stats"),this.addIcon("sd-video","Sd Video"),this.addIcon("hd-video","Hd Video"),this.addIcon("subtitles","Subtitles"),this.addIcon("sound-stereo","Sound Stereo"),this.addIcon("sound-dolby","Sound Dolby"),this.addIcon("sound-5-1","Sound 5 1"),this.addIcon("sound-6-1","Sound 6 1"),this.addIcon("sound-7-1","Sound 7 1"),this.addIcon("copyright-mark","Copyright Mark"),this.addIcon("registration-mark","Registration Mark"),this.addIcon("cloud-download","Cloud Download"),this.addIcon("cloud-upload","Cloud Upload"),this.addIcon("tree-conifer","Tree Conifer"),this.addIcon("tree-deciduous","Tree Deciduous"),this.addIcon("cd","Cd"),this.addIcon("save-file","Save File"),this.addIcon("open-file","Open File"),this.addIcon("level-up","Level Up"),this.addIcon("copy","Copy"),this.addIcon("paste","Paste"),this.addIcon("alert","Alert"),this.addIcon("equalizer","Equalizer"),this.addIcon("king","King"),this.addIcon("queen","Queen"),this.addIcon("pawn","Pawn"),this.addIcon("bishop","Bishop"),this.addIcon("knight","Knight"),this.addIcon("baby-formula","Baby Formula"),this.addIcon("tent","Tent"),this.addIcon("blackboard","Blackboard"),this.addIcon("bed","Bed"),this.addIcon("apple","Apple"),this.addIcon("erase","Erase"),this.addIcon("hourglass","Hourglass"),this.addIcon("lamp","Lamp"),this.addIcon("duplicate","Duplicate"),this.addIcon("piggy-bank","Piggy Bank"),this.addIcon("scissors","Scissors"),this.addIcon("bitcoin","Bitcoin"),this.addIcon("yen","Yen"),this.addIcon("ruble","Ruble"),this.addIcon("scale","Scale"),this.addIcon("ice-lolly","Ice Lolly"),this.addIcon("ice-lolly-tasted","Ice Lolly Tasted"),this.addIcon("education","Education"),this.addIcon("option-horizontal","Option Horizontal"),this.addIcon("option-vertical","Option Vertical"),this.addIcon("menu-hamburger","Menu Hamburger"),this.addIcon("modal-window","Modal Window"),this.addIcon("oil","Oil"),this.addIcon("grain","Grain"),this.addIcon("sunglasses","Sunglasses"),this.addIcon("text-size","Text Size"),this.addIcon("text-color","Text Color"),this.addIcon("text-background","Text Background"),this.addIcon("object-align-top","Object Align Top"),this.addIcon("object-align-bottom","Object Align Bottom"),this.addIcon("object-align-horizontal","Object Align Horizontal"),this.addIcon("object-align-left","Object Align Left"),this.addIcon("object-align-vertical","Object Align Vertical"),this.addIcon("object-align-right","Object Align Right"),this.addIcon("triangle-right","Triangle Right"),this.addIcon("triangle-left","Triangle Left"),this.addIcon("triangle-bottom","Triangle Bottom"),this.addIcon("triangle-top","Triangle Top"),this.addIcon("console","Console"),this.addIcon("superscript","Superscript"),this.addIcon("subscript","Subscript"),this.addIcon("menu-left","Menu Left"),this.addIcon("menu-right","Menu Right"),this.addIcon("menu-down","Menu Down"),this.addIcon("menu-up","Menu Up")},t.prototype.addIcon=function(e,t){this.icons[e]={name:e,label:t}},t.prototype.render=function(){for(var e=this,t=[],n=0,o=Object.keys(this.icons);n<o.length;n++){var r=o[n],i="glyphicon glyphicon-"+this.icons[r].name+" icon-picker-icon";t.push(a.createElement("li",{onClick:function(t){e.onchange(t)}},a.createElement("span",{className:i}),this.icons[r].name))}return a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown"},a.createElement("span",{className:"glyphicon glyphicon-"+this.selectedItem}),a.createElement("span",{className:"caret"})),a.createElement("ul",{className:"dropdown-menu",role:"menu"},t))},t}(a.Component);t.default=i},7362:(e,t,n)=>{var o="Expected a function",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),p=Object.prototype.toString,h=Math.max,f=Math.min,m=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(o);return v(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),function(e,t,n){var r,a,i,s,l,c,u=0,d=!1,p=!1,y=!0;if("function"!=typeof e)throw new TypeError(o);function g(t){var n=r,o=a;return r=a=void 0,u=t,s=e.apply(o,n)}function w(e){return u=e,l=setTimeout(E,t),d?g(e):s}function C(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=i}function E(){var e=m();if(C(e))return I(e);l=setTimeout(E,function(e){var n=t-(e-c);return p?f(n,i-(e-u)):n}(e))}function I(e){return l=void 0,y&&r?g(e):(r=a=void 0,s)}function O(){var e=m(),n=C(e);if(r=arguments,a=this,c=e,n){if(void 0===l)return w(c);if(p)return l=setTimeout(E,t),g(c)}return void 0===l&&(l=setTimeout(E,t)),s}return t=b(t)||0,v(n)&&(d=!!n.leading,i=(p="maxWait"in n)?h(b(n.maxWait)||0,t):i,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=a=l=void 0},O.flush=function(){return void 0===l?s:I(m())},O}(e,t,{leading:r,maxWait:t,trailing:a})}},2219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){this.name=e,this.originalValue=t,this.newValue=t}},385:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eColumnComparator=void 0;var r,a=n(279),i=o(n(7363));!function(e){e[e.equalTo=0]="equalTo",e[e.notEqualTo=1]="notEqualTo",e[e.greaterThan=2]="greaterThan",e[e.lessThan=3]="lessThan",e[e.between=4]="between",e[e.startsWith=5]="startsWith",e[e.endsWith=6]="endsWith",e[e.contains=7]="contains",e[e.notContains=8]="notContains",e[e.in=9]="in",e[e.notIn=10]="notIn"}(r=t.eColumnComparator||(t.eColumnComparator={}));var s=function(){function e(e,t,n){switch(this.comparator=e,e){case r.in:case r.notIn:}this.value=t,this.value2=n}return e.getDisplayValue=function(e){switch(e){case r.equalTo:return"Equals";case r.notEqualTo:return"Not Equal To";case r.startsWith:return"Starts With";case r.endsWith:return"Does Not Start With";case r.contains:return"Contains";case r.notContains:return"Does Not Contain";case r.in:return"Is In";case r.notIn:return"Is Not In";case r.greaterThan:return"Greater Than";case r.lessThan:return"Less Than";case r.between:return"Between"}},e.isOptionApplicable=function(e,t){switch(e){case r.equalTo:case r.notEqualTo:return!0;case r.startsWith:case r.endsWith:case r.contains:case r.notContains:case r.in:case r.notIn:return[a.eContentType.ContentString,a.eContentType.ContentPassword,a.eContentType.ContentNumber,a.eContentType.ContentContent].indexOf(t)>=0;case r.lessThan:case r.greaterThan:case r.between:return[a.eContentType.ContentDateTime,a.eContentType.ContentNumber].indexOf(t)>=0;default:return!1}},e.getOptions=function(t,n,o){void 0===t&&(t=-1),void 0===n&&(n="");var a=[];return Object.keys(r).filter((function(e){return!isNaN(Number(r[e]))})).forEach((function(s){e.isOptionApplicable(r[s],o)&&a.push(i.default.createElement("option",{className:n,value:r[s],selected:r[s]===t},e.getDisplayValue(r[s])))})),a},e.prototype.getForStorage=function(){var e={};if(e.comparator=this.comparator,this.value instanceof Map){var t=[];this.value.forEach((function(e,n){t.push(n)})),e.value=JSON.stringify(t)}else e.value=this.value,e.value2=this.value2;return JSON.stringify(e)},e}();t.default=s},3262:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(385)),s=n(6919),l=function(){function e(e,t,n,o){void 0===n&&(n=s.eSortDirection.none),void 0===o&&(o=[]);var r=this;this.sort=s.eSortDirection.none,this.criteria=[],this.key=e,this.parent=t,this.sort=n||s.eSortDirection.none,o.forEach((function(e){if(e instanceof i.default==0&&(e=JSON.parse(e)),e.comparator===i.eColumnComparator.in||e.comparator===i.eColumnComparator.notIn)if(e.value instanceof Map);else{var t=JSON.parse(e.value),n=new Map;t.forEach((function(e){n.set(e,e)})),e.value=n}r.criteria.push(new i.default(e.comparator,e.value,e.value2))})),this.notify=this.notify.bind(this)}return e.prototype.clone=function(){return new e(this.key,this.parent,this.sort,this.criteria)},e.prototype.clearFilters=function(){this.criteria=[],this.notify(s.eFilterEvent.filter)},e.prototype.notify=function(e){this.parent.notify(this.key,e)},e.prototype.sortAscending=function(){this.sort!==s.eSortDirection.ascending&&(this.sort=s.eSortDirection.ascending,this.notify(s.eFilterEvent.sort))},e.prototype.sortDescending=function(){this.sort!==s.eSortDirection.descending&&(this.sort=s.eSortDirection.descending,this.notify(s.eFilterEvent.sort))},e.prototype.sortToggle=function(){switch(this.sort){case s.eSortDirection.none:case s.eSortDirection.descending:this.sort=s.eSortDirection.ascending;break;default:this.sort=s.eSortDirection.descending}this.notify(s.eFilterEvent.sort)},e.prototype.sortNone=function(){this.sort!==s.eSortDirection.none&&(this.sort=s.eSortDirection.none,this.notify(s.eFilterEvent.sort))},e.prototype.getForStorage=function(){var e={};return e.key=this.key,e.sort=this.sort,e.criteria=[],this.criteria.forEach((function(t){e.criteria.push(t.getForStorage())})),JSON.stringify(e)},e}();t.default=l},6919:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eSortDirection=t.eFilterEvent=void 0;var s,l,c=n(279),u=a(n(7363)),d=a(n(385)),p=i(n(3262)),h=i(n(6979));!function(e){e[e.none=0]="none",e[e.sort=1]="sort",e[e.filter=2]="filter"}(s=t.eFilterEvent||(t.eFilterEvent={})),function(e){e[e.none=0]="none",e[e.ascending=1]="ascending",e[e.descending=-1]="descending"}(l=t.eSortDirection||(t.eSortDirection={}));var f=function(){function e(e){this.items=new Map,this.quickChecks=new Map,this.suppressNotify=!1,this.parent=e,this.notify=this.notify.bind(this),this.getSortIcon=this.getSortIcon.bind(this),this.getFilterIcon=this.getFilterIcon.bind(this),this.getQuickCheck=this.getQuickCheck.bind(this),this.sortClicked=this.sortClicked.bind(this),this.filterClicked=this.filterClicked.bind(this),this.quickCheckClicked=this.quickCheckClicked.bind(this),this.saveFilter=this.saveFilter.bind(this),this.cancelFilter=this.cancelFilter.bind(this),this.matchesCriteria=this.matchesCriteria.bind(this)}return e.prototype.clone=function(){var t=new e(this.parent);return t.globalCriteria=this.globalCriteria,this.items.forEach((function(e,n){t.items.set(n,e.clone())})),t},e.prototype.setDialog=function(e){this.dialog=e},e.prototype.notify=function(e,t){!1===this.suppressNotify&&this.parent.filtersChanged(e,t)},e.prototype.get=function(e){return this.items.has(e)?this.items.get(e):void 0},e.prototype.has=function(e){return!!this.items.has(e)},e.prototype.isFiltered=function(){var e=!1;return this.items.forEach((function(t){t.criteria.length>0&&(e=!0)})),e},e.prototype.isFilteredOn=function(e){var t=!1;return this.items.has(e)&&this.items.get(e).criteria.length>0&&(t=!0),t},e.prototype.clearAll=function(){this.suppressNotify=!0,this.items.forEach((function(e){e.clearFilters()})),this.suppressNotify=!1,this.notify("",s.filter)},e.prototype.sortClicked=function(e){this.items.has(e)||this.items.set(e,new p.default(e,this)),this.items.forEach((function(t){t.key!==e&&t.sortNone()})),this.items.get(e).sortToggle()},e.prototype.filterClicked=function(e){var t=this,n=this.parent;this.items.has(e)||this.items.set(e,new p.default(e,this));var o=this.parent.colMap.get(e);this.parent.messageBox.showMessageBox("Filter "+o.label,u.default.createElement(h.default,{root:n,parent:this,key:e,developerName:e,filter:this.items.get(e),contentType:o.contentType,ref:function(e){t.setDialog(e)}}),[new c.modalDialogButton("Apply",this.saveFilter),new c.modalDialogButton("Cancel",this.cancelFilter)])},e.prototype.filterClear=function(e){this.items.get(e).clearFilters()},e.prototype.saveFilter=function(){var e=this.dialog.filter.key;this.dialog.filter.criteria=this.dialog.newCriteria,this.items.set(e,this.dialog.filter),this.dialog=void 0,this.parent.messageBox.hideMessageBox(),this.notify(e,s.filter)},e.prototype.cancelFilter=function(){var e=this.dialog.filter.key;this.dialog=void 0,this.parent.messageBox.hideMessageBox(),this.notify(e,s.filter)},e.prototype.getSortIcon=function(e){var t=this;if(!this.items.has(e))return u.default.createElement("div",{onClick:function(n){t.sortClicked(e)},title:"Not sorted - click to toggle",style:{display:"flex",flexDirection:"column"}},u.default.createElement("span",{className:"sft-column-header-flag  glyphicon glyphicon-triangle-top"}),u.default.createElement("span",{className:"sft-column-header-flag  glyphicon glyphicon-triangle-bottom"}));switch(this.items.get(e).sort){case l.none:return u.default.createElement("div",{onClick:function(n){t.sortClicked(e)},title:"Not sorted - click to toggle",style:{display:"flex",flexDirection:"column"}},u.default.createElement("span",{className:"sft-column-header-flag  glyphicon glyphicon-triangle-top"}),u.default.createElement("span",{className:"sft-column-header-flag  glyphicon glyphicon-triangle-bottom"}));case l.ascending:return u.default.createElement("div",{onClick:function(n){t.sortClicked(e)},title:"Ascending - click to toggle",style:{display:"flex",flexDirection:"column"}},u.default.createElement("span",{className:"sft-column-header-flag sft-column-header-flag-hot glyphicon glyphicon-triangle-top"}),u.default.createElement("span",{className:"sft-column-header-flag   glyphicon glyphicon-triangle-bottom"}));case l.descending:return u.default.createElement("div",{onClick:function(n){t.sortClicked(e)},title:"Descending - click to toggle",style:{display:"flex",flexDirection:"column"}},u.default.createElement("span",{className:"sft-column-header-flag  glyphicon glyphicon-triangle-top"}),u.default.createElement("span",{className:"sft-column-header-flag sft-column-header-flag-hot glyphicon glyphicon-triangle-bottom"}))}},e.prototype.getFilterIcon=function(e){var t,n=this;return this.items.has(e)&&(null===(t=this.items.get(e).criteria)||void 0===t?void 0:t.length)>0?u.default.createElement(u.Fragment,null,u.default.createElement("span",{className:"sft-column-header-button sft-column-header-button-hot glyphicon glyphicon-search",onClick:function(t){n.filterClicked(e)},title:"Change filter"}),u.default.createElement("span",{className:"sft-column-header-button sft-column-header-button-hot glyphicon glyphicon-remove",onClick:function(t){n.filterClear(e)},title:"Clear filter"})):u.default.createElement("span",{className:"sft-column-header-button glyphicon glyphicon-search",onClick:function(t){n.filterClicked(e)}})},e.prototype.getQuickCheck=function(e){var t,n,o=this;if("true"===this.parent.getAttribute("QuickCheck","false")&&(null===(t=this.parent.colMap.get(e))||void 0===t?void 0:t.contentType)===c.eContentType.ContentBoolean){var r=null===(n=this.items.get(e))||void 0===n?void 0:n.criteria[0];return u.default.createElement("input",{className:"sft-checkbox sft-quick-check",type:"checkbox",onChange:function(t){o.quickCheckClicked(e,t)},ref:function(t){o.quickChecks.set(e,t)},checked:!!(null==r?void 0:r.value)&&r.value})}},e.prototype.quickCheckClicked=function(e,t){console.log("quick "+e),!0===t.currentTarget.checked?this.items.set(e,new p.default(e,this,l.none,[new d.default(d.eColumnComparator.equalTo,!0)])):this.items.get(e).clearFilters(),this.notify(e,s.filter)},e.prototype.filter=function(e){var t=this,n=new Map;return e.forEach((function(e,o){t.matchesCriteria(e)&&n.set(o,void 0)})),n},e.prototype.matchesCriteria=function(e){var t,n,o=e.objectData,r=!0;if(this.globalCriteria&&this.globalCriteria.length>0){n=!1;var a=this.globalCriteria.toLowerCase();e.columns.forEach((function(e){var t;(null===(t=""+o.properties[e.name].value)||void 0===t?void 0:t.toLowerCase()).indexOf(a)>=0&&(n=!0)}))}return this.items.forEach((function(e){e.criteria.forEach((function(t){var n,a,i,s,l,u,p;switch(null===(n=o.properties[e.key])||void 0===n?void 0:n.contentType){case c.eContentType.ContentString:i=null===(a=o.properties[e.key].value)||void 0===a?void 0:a.toLowerCase(),s=t.value instanceof Map?t.value:t.value.toLowerCase();break;case c.eContentType.ContentNumber:i=o.properties[e.key].value,s=parseInt(t.value),l=parseInt(t.value2);break;case c.eContentType.ContentBoolean:i=o.properties[e.key].value,s=t.value;break;case c.eContentType.ContentDateTime:i=new Date(o.properties[e.key].value),i=isNaN(i)?0:i.getTime(),s=new Date(t.value),s=isNaN(s)?0:s.getTime(),l=new Date(t.value2),l=isNaN(l)?0:l.getTime();break;default:i="",s=""}switch(t.comparator){case d.eColumnComparator.equalTo:i!==s&&(r=!1);break;case d.eColumnComparator.notEqualTo:i===s&&(r=!1);break;case d.eColumnComparator.contains:u=s.split(","),p=[],u.forEach((function(e){i.indexOf(e.trim())<0?p.push(!1):p.push(!0)})),r=p.indexOf(!0)>=0;break;case d.eColumnComparator.startsWith:i.startsWith(s)||(r=!1);break;case d.eColumnComparator.endsWith:i.endsWith(s)||(r=!1);break;case d.eColumnComparator.notContains:u=s.split(","),p=[],u.forEach((function(e){i.indexOf(e.trim())>=0&&p.push(!0)})),r=p.indexOf(!0)<0;break;case d.eColumnComparator.in:s.has(o.properties[e.key].value)||(r=!1);break;case d.eColumnComparator.notIn:s.has(o.properties[e.key].value)&&(r=!1);break;case d.eColumnComparator.lessThan:s<=i&&(r=!1);break;case d.eColumnComparator.greaterThan:s>=i&&(r=!1);break;case d.eColumnComparator.between:(i<s||i>l)&&(r=!1);break;default:r=!1}}))})),(null===(t=this.globalCriteria)||void 0===t?void 0:t.length)>0?!0===n&&!0===r:r},e.prototype.getSortColumn=function(){var e;return this.items.forEach((function(t){t.sort!==l.none&&(e=t)})),e},e.prototype.sort=function(e,t){var n=this.getSortColumn(),o=new Map(Array.from(t).filter((function(t){if(e.has(t[0]))return!0})));if(n){var r=this.parent.colMap.get(n.key);if(r){var a=void 0;if((null==r?void 0:r.contentType)===c.eContentType.ContentDateTime)a=Array.from(o).sort((function(e,t){var o=new Date(e[1].objectData.properties[n.key].value),r=new Date(t[1].objectData.properties[n.key].value);return o<r?-1:o>r?1:0}));else{var i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});a=Array.from(o).sort((function(e,t){return i.compare(e[1].objectData.properties[n.key].value,t[1].objectData.properties[n.key].value)}))}n.sort===l.descending&&(a=a.reverse());var s=new Map(a);return s.forEach((function(e,t){s.set(t,void 0)})),s}return e}return e},e.prototype.getForStorage=function(){var e=[];return this.items.forEach((function(t){e.push(t.getForStorage())})),JSON.stringify(e)},e.prototype.loadFromStorage=function(e){var t=this;this.items=new Map;var n=JSON.parse(e);n&&n.forEach((function(e){(e=JSON.parse(e)).key&&t.items.set(e.key,new p.default(e.key,t,e.sort,e.criteria))}))},e}();t.default=f},8272:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(7363)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.selectedColumns=[],n.toggleSelection=n.toggleSelection.bind(n),n.props.root.userColumns.forEach((function(e){n.selectedColumns.push(e)})),n}return r(t,e),t.prototype.toggleSelection=function(e,t){t.target.checked?this.selectedColumns.indexOf(e)<0&&this.selectedColumns.push(e):this.selectedColumns.splice(this.selectedColumns.indexOf(e),1),this.forceUpdate()},t.prototype.render=function(){var e=this,t=this.props.root,n=[],o=[];return t.colMap.forEach((function(t){o.length>11&&(n.push(i.default.createElement("div",{className:"sft-column-picker-column"},o)),o=[]),o.push(i.default.createElement("div",{className:"sft-column-picker-row"},i.default.createElement("div",{className:"checkbox-checkbox-wrapper"},i.default.createElement("input",{id:t.developerName,type:"checkbox",className:"sft-checkbox",checked:e.selectedColumns.indexOf(t.developerName)>=0,onChange:function(n){e.toggleSelection(t.developerName,n)}})),i.default.createElement("div",{className:"checkbox-label-wrapper"},i.default.createElement("label",{className:"checkbox-row-label",htmlFor:t.developerName},t.label))))})),o.length>0&&n.push(i.default.createElement("div",null,o)),i.default.createElement("div",{className:"modal-dialog-content",style:{maxHeight:"80vh",maxWidth:"80vw",display:"flex",flexDirection:"column",margin:"auto",padding:"0rem"}},i.default.createElement("div",{className:"sft-scroller",style:{maxHeight:"80vh",maxWidth:"80vw"}},i.default.createElement("div",{className:"sft-column-picker-body"},n)))},t}(i.default.Component);t.default=s},1159:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnRule=t.ColumnRules=void 0;var i=n(279),s=a(n(7363)),l=a(n(2582)),c=function(){function e(){}return e.parse=function(e,t){return o(this,void 0,void 0,(function(){var n,o,a,i,s;return r(this,(function(r){switch(r.label){case 0:return(n=RegExp(/^{{([^}]*)}}/).exec(e))?(o=n[1].split("->"),[4,t.loadValue(o[0])]):[3,2];case 1:return a=r.sent(),e=e.replace(n[0],a.value),[3,0];case 2:if(i=new Map,e&&e.length>0)try{s=JSON.parse(e),Object.keys(s).forEach((function(e){i.set(e,u.parse(e,s[e],t))}))}catch(e){console.log("Column rules attribute badly formatted")}return[2,i]}}))}))},e}();t.ColumnRules=c;var u=function(){function e(){}return e.parse=function(t,n,o){var r,a=new e;switch(a.columnName=t,a.mode=null===(r=n.mode)||void 0===r?void 0:r.toLowerCase(),a.parent=o,a.whiteSpace=n.whitespace||"",a.cssClass=n.classes||"",a.condition=n.condition,a.mode){case"url":a.target=n.target||"_blank",a.url=n.url||"{{VALUE}}",a.label=n.label||void 0;break;case"dateformat":a.dateFormat=n.dateFormat;break;case"class":case"style":a.className=n.className,a.rowClassName=n.rowClassName;break;case"outcome":a.outcomeName=n.outcomeName;break;case"lookup":a.lookupTable=new Map,n.options&&Object.keys(n.options).forEach((function(e){a.lookupTable.set(e,n.options[e])}));break;case"format":a.format=n.format;break;case"currency":a.currency=n.currency}return a},e.prototype.getTextValue=function(e){var t="";switch(e.contentType){case i.eContentType.ContentBoolean:t=!0===e.value?"True":"False";break;case i.eContentType.ContentNumber:t=e.value.toString();break;default:t=e.value}return t},e.prototype.generateColumnContent=function(e,t,n){var o=this,r={},a="sft-table-cell-text";this.whiteSpace&&(r.whiteSpace=this.whiteSpace),this.cssClass&&(a+=" "+this.cssClass);var i,c,u,d=!0;if(this.condition)switch(this.condition.comparator.toLowerCase()){case"equals":d=e.value===this.condition.value;break;case"not equals":d=e.value!==this.condition.value}var p="",h="";if(!0===d)switch(p=this.rowClassName,this.mode){case"outcome":i=this.label||e.value;for(var f=l.default.assessRowOutcomeRule(n.outcomes[this.outcomeName],t,n);c=RegExp(/{{([^}]*)}}/).exec(i);)if(y=t.properties[c[1].replace("&amp;","&")]){var m=this.getTextValue(y);i=i.replace(c[0],m)}if(f){var v=n.outcomes[this.outcomeName].label;u=s.default.createElement("span",{className:"sft-table-cell-href",onClick:function(e){n.doOutcome(o.outcomeName,t.internalId)},title:v},i)}else u=s.default.createElement("span",{className:a,style:r},e);break;case"url":var b=this.url.replace("{{VALUE}}",e.value);for(i=this.label||e.value;c=RegExp(/{{([^}]*)}}/).exec(i);){var y;(y=t.properties[c[1].replace("&amp;","&")])&&(m=this.getTextValue(y),i=i.replace(c[0],m))}u=s.default.createElement("a",{className:"sft-table-cell-href",href:b,target:this.target},i);break;case"class":var g={id:t.internalId,propertyId:e.typeElementPropertyId,contentValue:e.value,objectData:e.value,flowKey:this.parent.flowKey,contentType:e.contentType,contentFormat:e.contentFormat,row:t,sft:this.parent};u=s.default.createElement(manywho.component.getByName(this.className),g);break;case"dateformat":var w="";if(e){var C=new Date(e.value);if(!isNaN(C.getTime()))switch(this.dateFormat.toLowerCase()){case"datetime":w=C.toLocaleString();break;case"date":w=C.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});break;case"time":w=C.toLocaleTimeString();break;case"json":w=C.toJSON();break;case"iso":w=C.toISOString();break;case"utc":w=C.toUTCString();break;case"year":w=""+C.getFullYear()}}u=s.default.createElement("span",{className:a,style:r},w);break;case"lookup":var E=e;this.lookupTable.has(e)&&(E=this.lookupTable.get(e)),u=s.default.createElement("span",{className:a,style:r},E);break;case"percent":var I=parseInt(""+e)+"%";u=s.default.createElement("span",{className:a,style:r},I);break;case"format":var O=this.format.replaceAll("{{value}}",e.value);u=s.default.createElement("span",{className:a,style:r},O);break;case"currency":var x=new Intl.NumberFormat("en-US",{style:"currency",currency:this.currency,maximumFractionDigits:0}).format(e.value);u=s.default.createElement("span",{className:a,style:r},x);break;case"style":u=s.default.createElement("span",{className:a+" "+this.className,style:r},e.value),h=this.className;break;default:u=s.default.createElement("span",{className:a,style:r},e.value)}else u=s.default.createElement("span",{className:a,style:r},e.value);return{content:u,cellClass:h,rowClass:p}},e}();t.ColumnRule=u},2582:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(279),i=function(){function e(){}return e.getFlowValue=function(){return o(this,void 0,void 0,(function(){return r(this,(function(e){return[2]}))}))},e.assessGlobalOutcomeRule=function(t,n){var i,s,l;return o(this,void 0,void 0,(function(){var o,c,u,d,p,h,f,m,v,b,y,g;return r(this,(function(r){switch(r.label){case 0:if(o=!0,"true"===(null===(i=t.attributes.RequiresSelected)||void 0===i?void 0:i.value)&&n.selectedRowMap.size<1&&(o=!1),!(t.attributes.rule&&t.attributes.rule.value.length>0))return[3,18];r.label=1;case 1:r.trys.push([1,17,,18]),c=JSON.parse(t.attributes.rule.value),u=void 0,d=void 0,p=c.field,h=c.value,f=p,m=h,r.label=2;case 2:return(d=RegExp(/{{([^}]*)}}/).exec(p))?"TENANT_ID"===d[1]?[3,3]:[3,4]:[3,9];case 3:return u=a.eContentType.ContentString,f="MyTenentId",[3,8];case 4:return v=d[1].split("->"),b=void 0,n.fields[v[0]]?(b=n.fields[v[0]],[3,7]):[3,5];case 5:return[4,n.loadValue(v[0])];case 6:b=r.sent(),r.label=7;case 7:if(b)if(y=b.value)if(v.length>1){for(g=1;g<v.length;g++)u=null===(s=y.properties[v[g]])||void 0===s?void 0:s.contentType,y=y.properties[v[g]].value;f=y}else f=b.value,u=b.contentType;else f=b.value,u=b.contentType;return[3,8];case 8:return p=p.replace(d[0],f),[3,2];case 9:return(d=RegExp(/{{([^}]*)}}/).exec(h))?"TENANT_ID"===d[1]?[3,10]:[3,11]:[3,16];case 10:return u=a.eContentType.ContentString,f="MyTenentId",[3,15];case 11:return v=d[1].split("->"),b=void 0,n.fields[v[0]]?(b=n.fields[v[0]],[3,14]):[3,12];case 12:return[4,n.loadValue(v[0])];case 13:b=r.sent(),r.label=14;case 14:if(b)if(y=b.value)if(v.length>1){for(g=1;g<v.length;g++)u=null===(l=y.properties[v[g]])||void 0===l?void 0:l.contentType,y=y.properties[v[g]].value;m=y}else m=b.value,u=b.contentType;else m=b.value,u=b.contentType;return[3,15];case 15:return h=h.replace(d[0],f),[3,9];case 16:return o=o&&e.assessRule(f,c.comparator,m,u),[3,18];case 17:return r.sent(),console.log("The rule on top level outcome "+t.developerName+" is invalid"),[3,18];case 18:return[2,o]}}))}))},e.assessRowOutcomeRule=function(t,n,o){var r,i,s=!0;if(!t)return!1;if(t.attributes.rule&&t.attributes.rule.value.length>0)try{for(var l=JSON.parse(t.attributes.rule.value),c=void 0,u=void 0,d=l.field,p=l.value,h=d,f=p;u=RegExp(/{{([^}]*)}}/).exec(d);){if("TENANT_ID"===u[1])c=a.eContentType.ContentString,h="MyTenentId";else{var m=u[1].split("->"),v=void 0;if(v=o.fields[m[0]])if(y=v.value)if(m.length>1){for(var b=1;b<m.length;b++)c=null===(r=y.properties[m[b]])||void 0===r?void 0:r.contentType,y=y.properties[m[b]].value;h=y}else h=v.value,c=v.contentType;else h=v.value,c=v.contentType}d=d.replace(u[0],h)}for(;u=RegExp(/{{([^}]*)}}/).exec(p);){var y;if("TENANT_ID"===u[1])c=a.eContentType.ContentString,h="MyTenentId";else if(m=u[1].split("->"),v=void 0,v=o.fields[m[0]])if(y=v.value)if(m.length>1){for(b=1;b<m.length;b++)c=null===(i=y.properties[m[b]])||void 0===i?void 0:i.contentType,y=y.properties[m[b]].value;f=y}else f=v.value,c=v.contentType;else f=v.value,c=v.contentType;p=p.replace(u[0],h)}if(n.properties[d]){var g=n.properties[d];s=e.assessRule(g.value,l.comparator,f,g.contentType)}else s=e.assessRule(h,l.comparator,f,c)}catch(e){console.log("The rule on row level outcome "+t.developerName+" is invalid")}return s},e.assessRule=function(e,t,n,o){var r,i,s=!0;switch(o){case a.eContentType.ContentNumber:r=parseInt(n),i=e;break;case a.eContentType.ContentDateTime:r=new Date(n),i=e;break;case a.eContentType.ContentBoolean:r="true"===(""+n).toLowerCase(),i=e;break;case a.eContentType.ContentString:default:if((r=n.toLowerCase().split(",")).length>0)for(var l=0;l<r.length;l++)r[l]=r[l].trim();["in","not in"].indexOf(t.toLowerCase())<0&&(r=r[0]),i=null==e?void 0:e.toLowerCase()}switch(t.toLowerCase()){case"equals":s=i===r;break;case"not equals":s=i!==r;break;case"contains":s=i.indexOf(r)>=0;break;case"not contains":s=i.indexOf(r)<0;break;case"starts with":s=(""+i).startsWith(r);break;case"ends with":s=(""+i).endsWith(r);break;case"in":s=r.indexOf(i)>=0;break;case"not in":s=r.indexOf(i)<0;break;case"lt":s=parseInt(""+i)<parseInt(""+r);break;case"lte":s=parseInt(""+i)<=parseInt(""+r);break;case"gt":s=parseInt(""+i)>parseInt(""+r);break;case"gte":s=parseInt(""+i)>=parseInt(""+r)}return s},e}();t.default=i},4983:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(7363));n(5648);var c=function(e){function t(t){var n=e.call(this,t)||this;return n.content=l.default.createElement("img",{src:"https://files-manywho-com.s3.amazonaws.com/8f6d2e19-efc9-4ebc-b70e-616396f7184e/loading-icon-transparent-background-12.jpg"}),n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){return this.props.sft,this.forceUpdate(),[2]}))}))},t.prototype.render=function(){var e,t,n,o,r,a,i=this.props.sft.getAttribute("ComplexColumnValue","Value"),s=this.props.objectData,c={},u=null===(t=null===(e=s.properties)||void 0===e?void 0:e.Result)||void 0===t?void 0:t.value,d=null===(o=null===(n=s.properties)||void 0===n?void 0:n.Message)||void 0===o?void 0:o.value;switch(u){case 200:c.backgroundColor="transparent";break;case 300:c.backgroundColor="rgb(199 199 237)",a=l.default.createElement("span",{className:"sftcc-info glyphicon glyphicon-info-sign",title:d});break;case 400:c.backgroundColor="rgb(245 187 187)",a=l.default.createElement("span",{className:"sftcc-error glyphicon glyphicon-exclamation-sign",title:d})}return this.content=l.default.createElement("div",{style:c},l.default.createElement("span",{className:"sft-table-cell-text"},null===(r=s.properties[i])||void 0===r?void 0:r.value,a)),this.content},t}(l.default.Component);t.default=c,manywho.component.register("SFTComplexColumn",c)},6979:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(7363)),u=s(n(385)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.filter=n.props.filter,n.newCriteria=[],n.filter.criteria.forEach((function(e){n.newCriteria.push(e)})),n.addCriteria=n.addCriteria.bind(n),n}return r(t,e),t.prototype.addCriteria=function(){this.newCriteria.push(new u.default(u.eColumnComparator.equalTo,"")),this.forceUpdate()},t.prototype.prepCriteriaValue=function(e){switch(e.comparator){case u.eColumnComparator.in:case u.eColumnComparator.notIn:e.value=new Map;break;default:"string"!=typeof e.value&&(e.value="")}},t.prototype.render=function(){var e=this,t=[];return 0===this.newCriteria.length?t.push(c.default.createElement("div",{className:"sft-fcf-row"},c.default.createElement("span",{className:"sft-fcf-label"},"No Criteria defined"))):this.newCriteria.forEach((function(n){var o,r,a=u.default.getOptions(n.comparator,"sft-fmf-row-criteria-select-option",e.props.contentType);switch(n.comparator){case u.eColumnComparator.in:case u.eColumnComparator.notIn:o=e.props.root.getColumnUniques(e.props.developerName,n);break;case u.eColumnComparator.between:o=c.default.createElement("input",{type:"text",className:"sft-fmf-row-criteria-text",defaultValue:n.value,onChange:function(e){n.value=e.target.value}}),r=c.default.createElement("input",{type:"text",className:"sft-fmf-row-criteria-text",defaultValue:n.value2,onChange:function(e){n.value2=e.target.value}});break;default:o=c.default.createElement("input",{type:"text",className:"sft-fmf-row-criteria-text",defaultValue:n.value,onChange:function(e){n.value=e.target.value}})}t.push(c.default.createElement("div",{className:"sft-fmf-row"},c.default.createElement("div",{className:"sft-fmf-row-labels"},c.default.createElement("div",{className:"sft-fmf-row-caption-criteria"},"Comparator"),c.default.createElement("div",{className:"sft-fmf-row-caption"},"Value")),c.default.createElement("div",{className:"sft-fmf-row-values"},c.default.createElement("div",{className:"sft-fmf-row-criteria"},c.default.createElement("select",{className:"sft-fmf-row-criteria-select",onChange:function(t){n.comparator=parseInt(t.target.options[t.target.selectedIndex].value),e.prepCriteriaValue(n),e.forceUpdate()}},a)),c.default.createElement("div",{className:"sft-fmf-row-value"},o,r),c.default.createElement("button",{className:"sft-ribbon-search-button-wrapper",title:"Remove criteria",onClick:function(t){e.newCriteria=e.newCriteria.filter((function(e){return e!==n})),e.forceUpdate()}},c.default.createElement("span",{className:"sft-ribbon-search-button-icon glyphicon glyphicon-remove-sign"})))))})),t.push(c.default.createElement("div",{className:"sft-fcf-buttons"},c.default.createElement("span",{className:"sft-fcf-button glyphicon glyphicon-plus-sign",title:"Add criteria",onClick:this.addCriteria}))),c.default.createElement("div",{className:"modal-dialog-content",style:{width:"910px",display:"flex",flexDirection:"column",margin:"auto",padding:"2rem"}},t)},t}(c.default.Component);t.default=d},2672:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(7363)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.fieldSelected=n.fieldSelected.bind(n),n.addColumnCriteria=n.addColumnCriteria.bind(n),n}return r(t,e),t.prototype.fieldSelected=function(e){this.forceUpdate()},t.prototype.addColumnCriteria=function(e){var t=this.props.parent;this.fieldSelect&&this.fieldSelect.options[this.fieldSelect.selectedIndex].value&&t.addCriteria(this.fieldSelect.options[this.fieldSelect.selectedIndex].value)},t.prototype.render=function(){var e,t=this,n=this.props.parent,o=(this.props.criteria,[]);o.push(i.default.createElement("option",{className:"sft-fmf-row-criteria-select-option",value:null},"Please Select ..."));var r,a=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return Array.from(n.columns).filter((function(e){return!n.newFilters.isFilteredOn(e[1].developerName)})).sort((function(e,t){return a.compare(e[1].label,t[1].label)})).forEach((function(e){o.push(i.default.createElement("option",{className:"sft-fmf-row-criteria-select-option",value:e[1].developerName}," "+e[1].label+" "))})),e=i.default.createElement("select",{className:"sft-fmf-row-criteria-select",onChange:this.fieldSelected,ref:function(e){t.fieldSelect=e}},o),this.fieldSelect&&this.fieldSelect.options[this.fieldSelect.selectedIndex].value&&(r=i.default.createElement("button",{className:"sft-ribbon-search-button-wrapper",onClick:this.addColumnCriteria},i.default.createElement("span",{className:"glyphicon glyphicon-plus sft-ribbon-search-button-icon"}))),i.default.createElement("div",{className:"sft-fmf-row"},i.default.createElement("div",{className:"sft-fmf-row-labels"},i.default.createElement("div",{className:"sft-fmf-row-caption"},"Column Name")),i.default.createElement("div",{className:"sft-fmf-row-values"},i.default.createElement("div",{className:"sft-fmf-row-title"},e),i.default.createElement("div",{className:"sft-fmf-row-buttons"},r)))},t}(i.default.Component);t.default=s},5502:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(7363)),u=s(n(385)),d=l(n(3262)),p=n(6919),h=l(n(2672)),f=l(n(9956)),m=function(e){function t(t){var n=e.call(this,t)||this;return n.parent=n.props.parent,n.columns=n.parent.colMap,n.addCriteria=n.addCriteria.bind(n),n.removeCriteria=n.removeCriteria.bind(n),n.newFilters=n.parent.filters.clone(),n}return r(t,e),t.prototype.addCriteria=function(e){this.newFilters.items.set(e,new d.default(e,this.newFilters,p.eSortDirection.none,[new u.default(u.eColumnComparator.equalTo,"","")])),this.forceUpdate()},t.prototype.removeCriteria=function(e){this.newFilters.items.delete(e),this.forceUpdate()},t.prototype.render=function(){var e=this,t=[];return this.newFilters.items.forEach((function(n,o){n.criteria.forEach((function(n){t.push(c.default.createElement(f.default,{parent:e,filterId:o,criteria:n}))}))})),t.push(c.default.createElement(h.default,{parent:this})),c.default.createElement("div",{className:"modal-dialog-content",style:{width:"910px"}},t)},t}(c.default.Component);t.default=m},9956:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(279),u=l(n(7363)),d=s(n(385)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.valueChanged=n.valueChanged.bind(n),n.valueToChanged=n.valueToChanged.bind(n),n.comparatorChanged=n.comparatorChanged.bind(n),n.removeCriteria=n.removeCriteria.bind(n),n}return r(t,e),t.prototype.valueChanged=function(e){"checkbox"===e.target.type?this.props.criteria.value=e.target.checked:this.props.criteria.value=e.target.value,this.forceUpdate()},t.prototype.valueToChanged=function(e){this.props.criteria.value2=e.target.value,this.forceUpdate()},t.prototype.comparatorChanged=function(e){if(this.comparatorElement&&this.comparatorElement.options[this.comparatorElement.selectedIndex].value){var t=this.comparatorElement.options[this.comparatorElement.selectedIndex].value,n=parseInt(t);this.props.criteria.comparator=n,n!==d.eColumnComparator.in&&n!==d.eColumnComparator.notIn&&"string"!=typeof this.props.criteria.value?(this.props.criteria.value="",this.props.criteria.value2=""):(n!==d.eColumnComparator.in&&n!==d.eColumnComparator.notIn||"string"!=typeof this.props.criteria.value||(this.props.criteria.value=new Map),n!==d.eColumnComparator.between&&(this.props.criteria.value2="")),this.forceUpdate()}},t.prototype.removeCriteria=function(){this.props.parent.removeCriteria(this.props.filterId)},t.prototype.render=function(){var e,t=this,n=this.props.parent,o=n.newFilters.get(this.props.filterId),r=n.columns.get(o.key),a=this.props.criteria;if(r)e=u.default.createElement("span",null,r.label);else{var i=[];n.columns.forEach((function(e){i.push(u.default.createElement("option",{className:"sft-fmf-row-criteria-select-option",value:e.developerName,selected:e.developerName===r.developerName},e.label))})),e=u.default.createElement("select",{className:"sft-fmf-row-criteria-select"},i)}var s,l,p,h=d.default.getOptions(a.comparator,"sft-fmf-row-criteria-select-option",r.contentType),f="Value";if(a.comparator===d.eColumnComparator.in||a.comparator===d.eColumnComparator.notIn)s=this.props.parent.props.parent.getColumnUniques(r.developerName,a.value);else switch(r.contentType){case c.eContentType.ContentDateTime:s=u.default.createElement("input",{className:"sft-fmf-row-criteria-date",type:"date",value:this.props.criteria.value,onChange:this.valueChanged}),a.comparator===d.eColumnComparator.between&&(l=u.default.createElement("div",{className:"sft-fmf-row-value"},u.default.createElement("input",{className:"sft-fmf-row-criteria-date",type:"date",value:this.props.criteria.value2,onChange:this.valueToChanged})),f="From",p=u.default.createElement("div",{className:"sft-fmf-row-caption"},"To"));break;case c.eContentType.ContentNumber:s=u.default.createElement("input",{className:"sft-fmf-row-criteria-number",type:"number",value:this.props.criteria.value,onChange:this.valueChanged}),a.comparator===d.eColumnComparator.between&&(l=u.default.createElement("div",{className:"sft-fmf-row-value"},u.default.createElement("input",{className:"sft-fmf-row-criteria-number",type:"number",value:this.props.criteria.value2,onChange:this.valueToChanged})),f="From",p=u.default.createElement("div",{className:"sft-fmf-row-caption"},"To"));break;case c.eContentType.ContentBoolean:s=u.default.createElement("input",{className:"sft-fmf-row-criteria-checkbox",type:"checkbox",checked:this.props.criteria.value,onChange:this.valueChanged});break;default:s=u.default.createElement("input",{className:"sft-fmf-row-criteria-text",type:"text",value:this.props.criteria.value,onChange:this.valueChanged})}return u.default.createElement("div",{className:"sft-fmf-row"},u.default.createElement("div",{className:"sft-fmf-row-labels"},u.default.createElement("div",{className:"sft-fmf-row-caption"},"Column Name"),u.default.createElement("div",{className:"sft-fmf-row-caption-criteria"},"Comparator"),u.default.createElement("div",{className:"sft-fmf-row-caption"},f),p),u.default.createElement("div",{className:"sft-fmf-row-values"},u.default.createElement("div",{className:"sft-fmf-row-title"},e),u.default.createElement("div",{className:"sft-fmf-row-criteria"},u.default.createElement("select",{className:"sft-fmf-row-criteria-select",onChange:this.comparatorChanged,ref:function(e){t.comparatorElement=e}},h)),u.default.createElement("div",{className:"sft-fmf-row-value"},s),l,u.default.createElement("button",{className:"sft-ribbon-search-button-wrapper",title:"Remove criteria",onClick:this.removeCriteria},u.default.createElement("span",{className:"sft-ribbon-search-button-icon glyphicon glyphicon-remove-sign"}))))},t}(u.default.Component);t.default=p},502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(279),r=function(){function e(){}return e.export=function(e,t,n){var o=this,r="",a="",i="";t.forEach((function(t){0===a.length&&(a=o.buildHeaders(e,t.objectData)),i=o.buildRow(e,t.objectData),r+=i}));var s=new Blob(["\ufeff"+a+r],{type:"text/csv;charset=utf-8"}),l=document.createElement("a");if(void 0!==l.download){var c=URL.createObjectURL(s);l.setAttribute("href",c),l.setAttribute("download",n),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}},e.buildHeaders=function(e,t){var n="";return e.forEach((function(e){e.contentType===o.eContentType.ContentList?t.properties[e.developerName].value.items.forEach((function(e){n.length>0&&(n+=","),n+='"'+e.properties.ATTRIBUTE_DISPLAY_NAME.value+'"'})):(n.length>0&&(n+=","),n+='"'+e.label+'"')})),n+="\r\n"},e.buildRow=function(e,t){var n="";return e.forEach((function(e){e.contentType===o.eContentType.ContentList?t.properties[e.developerName].value.items.forEach((function(e){n.length>0&&(n+=","),n+='"'+e.properties.ATTRIBUTE_VALUE.value+'"'})):(n.length>0&&(n+=","),n+='"'+t.properties[e.developerName].value+'"')})),n+="\r\n"},e}();t.default=r},6613:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(7363));n(4311);var s=function(e){function t(t){var n=e.call(this,t)||this;return n.expanded=!1,n.showCheckboxes=n.showCheckboxes.bind(n),n}return r(t,e),t.prototype.showCheckboxes=function(){var e=document.getElementById("checkboxes_"+this.props.id);this.expanded?(e.style.display="none",this.expanded=!1):(e.style.display="flex",this.expanded=!0)},t.prototype.render=function(){var e=this,t=[],n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return Array.from(this.props.allItems.keys()).sort((function(e,t){return n.compare(e,t)})).forEach((function(n){var o;t.push(i.default.createElement("div",{className:"checkbox-row"},i.default.createElement("div",{className:"checkbox-checkbox-wrapper"},i.default.createElement("input",{type:"checkbox",id:n,key:n,className:"sft-checkbox",checked:null===(o=e.props.selectedItems)||void 0===o?void 0:o.has(n),onClick:function(t){var o;(null===(o=e.props.selectedItems)||void 0===o?void 0:o.has(n))?e.props.selectedItems.delete(n):e.props.selectedItems.set(n,n),e.forceUpdate()}})),i.default.createElement("div",{className:"checkbox-label-wrapper"},i.default.createElement("span",{className:"checkbox-row-label"},n))))})),i.default.createElement("div",{className:"multiselect"},i.default.createElement("div",{className:"selectBox",onClick:this.showCheckboxes},i.default.createElement("select",null,i.default.createElement("option",null,"Select an option")),i.default.createElement("div",{className:"overSelect"})),i.default.createElement("div",{className:"checkboxScroller"},i.default.createElement("div",{className:"checkboxes",id:"checkboxes_"+this.props.id},t)))},t}(i.default.Component);t.default=s},193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){this.columns=new Map}},7789:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(7363));n(3292);var c=function(e){function t(t){var n=e.call(this,t)||this;return n.content=l.default.createElement("img",{src:"https://files-manywho-com.s3.amazonaws.com/8f6d2e19-efc9-4ebc-b70e-616396f7184e/loading-icon-transparent-background-12.jpg"}),n.validate=n.validate.bind(n),n.makeObjectData=n.makeObjectData.bind(n),n.props.sft.form=n,n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){return this.props.sft,this.forceUpdate(),[2]}))}))},t.prototype.validate=function(){return!0},t.prototype.makeObjectData=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){return[2,null]}))}))},t.prototype.render=function(){this.props.outcome;var e=this.props.form,t="glyphicon glyphicon-"+(e.icon||"exclamation-sign")+" sft-dlg-icon",n="Deletion is a permanent action.  Please confirm ?";n=e.message||n;var o=[];return n.split("/n").forEach((function(e){o.push(l.default.createElement("span",{className:"sft-dlg-row"},e.trim()))})),this.content=l.default.createElement("div",{className:"sft-dlg"},l.default.createElement("div",{className:"sft-dlg-body"},l.default.createElement("div",{className:"sft-dlg-body-icon"},l.default.createElement("span",{className:t})),l.default.createElement("div",{className:"sft-dlg-body-message"},o))),this.content},t}(l.default.Component);t.default=c,manywho.component.register("SFTMessageBox",c)},2182:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},l=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(n(7363)),h=n(279),f=d(n(2219)),m=s(n(6919)),v=d(n(8272)),b=n(1159),y=d(n(5502)),g=d(n(502)),w=d(n(6613)),C=d(n(193));n(2811);var E=d(n(7368)),I=d(n(4271)),O=d(n(6289)),x=d(n(7599)),N=d(n(3047)),_=function(e){function t(t){var n=e.call(this,t)||this;return n.version="1.0.0",n.rowMap=new Map,n.currentRowMap=new Map,n.maxPageRows=5,n.currentRowPages=[],n.currentRowPage=0,n.selectedRowMap=new Map,n.rows=new Map,n.colMap=new Map,n.colValMap=new Map,n.userColumns=[],n.cols=new Map,n.lastContent=p.default.createElement("div",null),n.filters=new m.default(n),n.dynamicColumns=!1,n.maxColText=-1,n.columnRules=new Map,n.retries=0,n.loaded=!1,n.supressedOutcomes=new Map,n.handleMessage=n.handleMessage.bind(n),n.flowMoved=n.flowMoved.bind(n),n.showContextMenu=n.showContextMenu.bind(n),n.hideContextMenu=n.hideContextMenu.bind(n),n.buildCoreTable=n.buildCoreTable.bind(n),n.buildRibbon=n.buildRibbon.bind(n),n.buildFooter=n.buildFooter.bind(n),n.filtersChanged=n.filtersChanged.bind(n),n.globalFilterChanged=n.globalFilterChanged.bind(n),n.manageFilters=n.manageFilters.bind(n),n.applyFilters=n.applyFilters.bind(n),n.cancelFilters=n.cancelFilters.bind(n),n.toggleSelect=n.toggleSelect.bind(n),n.toggleSelectAll=n.toggleSelectAll.bind(n),n.firstPage=n.firstPage.bind(n),n.previousPage=n.previousPage.bind(n),n.nextPage=n.nextPage.bind(n),n.lastPage=n.lastPage.bind(n),n.maxPerPageChanged=n.maxPerPageChanged.bind(n),n.doExport=n.doExport.bind(n),n.playAudio=n.playAudio.bind(n),n.playVideo=n.playVideo.bind(n),n.showColumnPicker=n.showColumnPicker.bind(n),n.applyColumns=n.applyColumns.bind(n),n.cancelColumns=n.cancelColumns.bind(n),n.columnsReordered=n.columnsReordered.bind(n),n.cancelOutcomeForm=n.cancelOutcomeForm.bind(n),n.okOutcomeForm=n.okOutcomeForm.bind(n),n.bringColumnIntoView=n.bringColumnIntoView.bind(n),n.selectRow=n.selectRow.bind(n),n.loadSelected=n.loadSelected.bind(n),n.loadSingleSelected=n.loadSingleSelected.bind(n),n.maxPageRows=parseInt(localStorage.getItem("sft-max-"+n.componentId)||n.getAttribute("PaginationSize",void 0)||"10"),localStorage.setItem("sft-max-"+n.componentId,n.maxPageRows.toString()),n.rowRememberColumn=n.getAttribute("RetainRowColumn"),n.rowRememberColumn&&(n.lastRememberedRow=sessionStorage.getItem("sft-lastrow-"+n.componentId)),n}return r(t,e),t.prototype.showInfo=function(){var e=p.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.model.content}});this.messageBox.showMessageBox("Information",e,[new h.modalDialogButton("Close",this.messageBox.hideMessageBox)])},t.prototype.showColumnPicker=function(){var e=this,t=p.default.createElement(v.default,{root:this,ref:function(t){e.form=t}});this.messageBox.showMessageBox("Select Columns",t,[new h.modalDialogButton("Apply",this.applyColumns),new h.modalDialogButton("Cancel",this.cancelColumns)])},t.prototype.cancelColumns=function(){this.messageBox.hideMessageBox(),this.form=void 0},t.prototype.applyColumns=function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){return this.userColumns=this.form.selectedColumns,this.saveUserColumns(),this.messageBox.hideMessageBox(),this.form=void 0,this.headers.forceUpdate(),this.rows.forEach((function(e){e.forceUpdate()})),[2]}))}))},t.prototype.columnsReordered=function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){return this.saveUserColumns(),this.headers.forceUpdate(),this.rows.forEach((function(e){e.forceUpdate()})),[2]}))}))},t.prototype.getColumnUniques=function(e,t){return p.default.createElement(w.default,{id:e,allItems:this.colValMap.get(e),selectedItems:t})},t.prototype.filtersChanged=function(e,t){var n,o=this;switch(null===(n=this.headers)||void 0===n||n.forceUpdate(),localStorage.setItem("sft-filters-"+this.componentId,this.filters.getForStorage()),t){case m.eFilterEvent.sort:this.filters.get(e).sort!==m.eSortDirection.none&&this.headers.headers.get(e);break;case m.eFilterEvent.filter:this.filterRows()}this.sortRows(),this.paginateRows(),this.buildTableRows(),this.forceUpdate((function(){t===m.eFilterEvent.sort&&o.bringColumnIntoView(e)}))},t.prototype.bringColumnIntoView=function(e){this.headers.headers.get(e).th.scrollIntoView({inline:"center",block:"center",behavior:"auto"})},t.prototype.globalFilterChanged=function(e){this.filters.globalCriteria=e,this.filtersChanged("",m.eFilterEvent.filter)},t.prototype.manageFilters=function(){var e=this,t=p.default.createElement(y.default,{parent:this,ref:function(t){e.form=t}});this.messageBox.showMessageBox("Manage Filters",t,[new h.modalDialogButton("Apply",this.applyFilters),new h.modalDialogButton("Cancel",this.cancelFilters)])},t.prototype.cancelFilters=function(){this.form=void 0,this.messageBox.hideMessageBox()},t.prototype.applyFilters=function(){this.filters=this.form.newFilters,this.form=void 0,this.messageBox.hideMessageBox(),this.filtersChanged("",m.eFilterEvent.filter)},t.prototype.maxPerPageChanged=function(e){this.maxPageRows=e||10,localStorage.setItem("sft-max-"+this.componentId,this.maxPageRows.toString()),this.paginateRows(),this.buildTableRows(),this.forceUpdate()},t.prototype.setRow=function(e,t){t?this.rows.set(e,t):this.rows.has(e)&&this.rows.delete(e)},t.prototype.setRibbon=function(e){this.ribbon=e},t.prototype.setHeaders=function(e){this.headers=e},t.prototype.setFooter=function(e){this.footer=e},t.prototype.flowMoved=function(e,t){return l(this,void 0,void 0,(function(){var n;return c(this,(function(o){switch(o.label){case 0:return n=this,"FORWARD"!==e.invokeType?[3,4]:this.loadingState!==h.eLoadingState.ready&&this.retries<20?(this.loaded=!1,this.retries++,console.log("retry "+this.retries+" after flow move"),window.setTimeout((function(){n.flowMoved(e,t)}),500),[3,4]):[3,1];case 1:return this.retries=0,[4,this.preLoad()];case 2:return o.sent(),this.loaded=!0,this.maxPageRows=parseInt(localStorage.getItem("sft-max-"+this.componentId)||this.getAttribute("PaginationSize",void 0)||"10"),this.filters.loadFromStorage(localStorage.getItem("sft-filters-"+this.componentId)),[4,this.buildCoreTable()];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t.prototype.componentDidMount=function(){return l(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this.loaded=!1,[4,e.prototype.componentDidMount.call(this)];case 1:return n.sent(),manywho.eventManager.addDoneListener(this.flowMoved,this.componentId),this.maxPageRows=parseInt(localStorage.getItem("sft-max-"+this.componentId||0)),this.filters.loadFromStorage(localStorage.getItem("sft-filters-"+this.componentId)),this.attributes.UserColumnsValue&&(this.dynamicColumns=!0),this.attributes.MaxColumnTextLength&&(this.maxColText=parseInt(this.attributes.MaxColumnTextLength.value)),t=this,[4,b.ColumnRules.parse(this.getAttribute("ColumnRules","{}"),this)];case 2:return t.columnRules=n.sent(),[4,this.preLoad()];case 3:return n.sent(),this.loaded=!0,[4,this.buildCoreTable()];case 4:return n.sent(),[2]}}))}))},t.prototype.componentWillUnmount=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentWillUnmount.call(this)];case 1:return t.sent(),manywho.eventManager.removeDoneListener(this.componentId),[2]}}))}))},t.prototype.loadUserColumns=function(){return l(this,void 0,void 0,(function(){var e,t,n,o=this;return c(this,(function(r){switch(r.label){case 0:return e="","LOCAL_STORAGE"===this.attributes.UserColumnsValue.value?[3,2]:[4,this.loadValue(this.attributes.UserColumnsValue.value)];case 1:return(t=r.sent())&&t.value.length>0&&(e=t.value),[3,3];case 2:e=localStorage.getItem("sft_"+this.componentId+"_cols")||"",r.label=3;case 3:return n=[],e&&e.length>0&&(n=e.split(",")),this.userColumns=[],n.forEach((function(e){o.userColumns.push(e.trim())})),[2]}}))}))},t.prototype.saveUserColumns=function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return e="",this.userColumns.forEach((function(t){e.length>0&&(e+=","),t?e+=t.trim():console.log("One of the columns in the table had a null name.  Check the table display columns settings in Flow")})),"LOCAL_STORAGE"===this.attributes.UserColumnsValue.value?[3,3]:[4,this.loadValue(this.attributes.UserColumnsValue.value)];case 1:return(t=n.sent()).value=e,[4,this.updateValues(t)];case 2:return n.sent(),[3,4];case 3:localStorage.setItem("sft_"+this.componentId+"_cols",e),n.label=4;case 4:return[2]}}))}))},t.prototype.preLoad=function(){return l(this,void 0,void 0,(function(){var e,t,n,o,r,a,i,s,l=this;return c(this,(function(c){switch(c.label){case 0:e=[],t=Array.from(Object.values(this.outcomes)),n=0,c.label=1;case 1:if(!(n<t.length))return[3,19];if(!((o=t[n]).attributes.rule&&o.attributes.rule.value.length>0))return[3,18];c.label=2;case 2:c.trys.push([2,17,,18]),r=JSON.parse(o.attributes.rule.value),a=void 0,i=r.field,c.label=3;case 3:return(a=RegExp(/{{([^}]*)}}/).exec(i))?"TENANT_ID"===a[1]?[3,4]:[3,5]:[3,9];case 4:return[3,8];case 5:return s=a[1].split("->"),e.indexOf(s[0])<0?[4,this.loadValue(s[0])]:[3,7];case 6:c.sent(),e.push(s[0]),c.label=7;case 7:return[3,8];case 8:return i=i.replace(a[0],"done"),[3,3];case 9:i=r.value,c.label=10;case 10:return(a=RegExp(/{{([^}]*)}}/).exec(i))?"TENANT_ID"===a[1]?[3,11]:[3,12]:[3,16];case 11:return[3,15];case 12:return s=a[1].split("->"),e.indexOf(s[0])<0?[4,this.loadValue(s[0])]:[3,14];case 13:c.sent(),e.push(s[0]),c.label=14;case 14:return[3,15];case 15:return i=i.replace(a[0],"done"),[3,10];case 16:return[3,18];case 17:return c.sent(),console.log("The rule on outcome "+o.developerName+" is invalid"),[3,18];case 18:return n++,[3,1];case 19:return this.columnRules&&this.columnRules.size>0&&this.columnRules.forEach((function(e){var t;"outcome"===(null===(t=e.mode)||void 0===t?void 0:t.toLowerCase())&&l.supressedOutcomes.set(e.outcomeName,!0)})),this.supressedOutcomes.set("OnSelect",!0),[2,!0]}}))}))},t.prototype.buildCoreTable=function(){var e,t,n;return l(this,void 0,void 0,(function(){var o,r,a,i,s,l,u,d,m=this;return c(this,(function(c){switch(c.label){case 0:return this.rowMap=new Map,this.rows=new Map,this.colMap=new Map,o=new Map,this.model.displayColumns&&this.model.displayColumns.length>0?(null===(e=this.model.displayColumns)||void 0===e?void 0:e.sort((function(e,t){switch(!0){case e.DisplayOrder>t.DisplayOrder:return 1;case e.DisplayOrder===t.DisplayOrder:return 0;default:return-1}}))).forEach((function(e){o.set(e.developerName,e)})):"true"===this.getAttribute("ComplexColumns","false").toLowerCase()&&(r=this.getAttribute("ComplexColumnsChildren","Columns"),a=this.getAttribute("ComplexColumnName","Name"),this.getAttribute("ComplexColumnType","Type"),null===(t=this.model.dataSource.items)||void 0===t||t.forEach((function(e){e.properties[r].value.items.forEach((function(e){var t=e.properties[a].value;if(!o.has(t)){var n={developerName:t,label:t,contentType:h.eContentType.ContentObject};o.set(t,n)}}))}))),!0!==this.dynamicColumns?[3,2]:[4,this.loadUserColumns()];case 1:c.sent(),c.label=2;case 2:if((i=!1===this.dynamicColumns||!0===this.dynamicColumns&&(0===this.userColumns.length||1===this.userColumns.length&&this.userColumns.indexOf("#BUTTONS#")>=0))&&(this.userColumns=[]),o.forEach((function(e){m.colMap.set(e.developerName,e),m.colValMap.set(e.developerName,new Map),i&&m.userColumns.push(e.developerName)})),this.userColumns.indexOf("#BUTTONS#")<0){switch(s=0,this.getAttribute("OutcomesPosition","0").toLowerCase()){case"first":case"start":case"0":s=0;break;case"last":case"end":s=this.userColumns.length;break;default:try{(s=parseInt(this.getAttribute("OutcomesPosition","0")))>this.userColumns.length&&(s=this.userColumns.length)}catch(e){console.log("OutcomesPosition had an invalid value"),s=0}}this.userColumns.splice(s,0,"#BUTTONS#")}return!0!==this.dynamicColumns||!0!==i?[3,4]:[4,this.saveUserColumns()];case 3:c.sent(),c.label=4;case 4:return l=!0,"search"===this.getAttribute("RibbonStyle","ribbon")?(this.ribbonElement=p.default.createElement(x.default,{root:this,ref:function(e){m.setRibbon(e)}}),l=!1):this.ribbonElement=p.default.createElement(O.default,{root:this,ref:function(e){m.setRibbon(e)}}),(null===(n=this.model.label)||void 0===n?void 0:n.length)>0&&(this.titleElement=p.default.createElement("div",{className:"sft-title"},p.default.createElement("span",{className:"sft-title-label"},this.model.label))),this.headersElement=p.default.createElement(I.default,{root:this,inlineSearch:l,ref:function(e){m.setHeaders(e)}}),this.footerElement=p.default.createElement(E.default,{root:this,ref:function(e){m.setFooter(e)}}),this.rowRememberColumn&&(this.lastRememberedRow=sessionStorage.getItem("sft-lastrow-"+this.componentId)),this.selectedRowMap.clear(),new Date,[4,this.loadSelected()];case 5:return u=c.sent(),d=this.getAttribute("IsSelectedColumn"),this.model.dataSource.items.forEach((function(e){u?u.has(e.internalId)&&!0===u.get(e.internalId).isSelected&&m.selectedRowMap.set(e.internalId,void 0):(!0===e.isSelected||d&&(!0===e.properties[d].value||e.properties[d].value>0))&&m.selectedRowMap.set(e.internalId,void 0);var t=new C.default;t.id=e.internalId,m.colMap.forEach((function(n){var o,r,a;t.columns.set(n.developerName,new f.default(n.developerName,null===(o=e.properties[n.developerName])||void 0===o?void 0:o.value)),m.colValMap.get(n.developerName).set(null===(r=e.properties[n.developerName])||void 0===r?void 0:r.value,null===(a=e.properties[n.developerName])||void 0===a?void 0:a.value)})),t.objectData=e,m.rowMap.set(t.id,t)})),[4,this.saveSelected()];case 6:return c.sent(),new Date,this.loadSingleSelected(),this.filterRows(),[2]}}))}))},t.prototype.filterRows=function(){var e=this;new Date,this.currentRowMap=new Map,this.rowMap.size>0&&(this.currentRowMap=this.filters.filter(this.rowMap)),this.selectedRowMap.forEach((function(t,n){e.currentRowMap.has(n)||e.selectedRowMap.delete(n)})),new Date,this.sortRows()},t.prototype.sortRows=function(){new Date,this.currentRowMap.size>0&&(this.currentRowMap=this.filters.sort(this.currentRowMap,this.rowMap)),new Date,this.paginateRows()},t.prototype.paginateRows=function(){var e=this;new Date,this.currentRowPages=[];var t=new Map;this.currentRowPage=0,this.currentRowMap.forEach((function(n,o){var r,a,i=e.rowMap.get(o).objectData;e.lastRememberedRow&&(a=null===(r=i.properties[e.rowRememberColumn])||void 0===r?void 0:r.value),t.size<e.maxPageRows?(t.set(o,n),a&&e.lastRememberedRow&&a===e.lastRememberedRow&&(e.currentRowPage=e.currentRowPages.length)):(e.currentRowPages.push(t),(t=new Map).set(o,n),a&&e.lastRememberedRow&&a===e.lastRememberedRow&&(e.currentRowPage=e.currentRowPages.length))})),this.currentRowPages.push(t),new Date,this.buildTableRows()},t.prototype.firstPage=function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){return this.currentRowPage=0,this.buildTableRows(),this.forceUpdate(),[2]}))}))},t.prototype.previousPage=function(){this.currentRowPage>1?this.currentRowPage-=1:this.currentRowPage=0,this.buildTableRows(),this.forceUpdate()},t.prototype.nextPage=function(){this.currentRowPage<this.currentRowPages.length-1?this.currentRowPage+=1:this.currentRowPage=this.currentRowPages.length-1,this.buildTableRows(),this.forceUpdate()},t.prototype.lastPage=function(){this.currentRowPage=this.currentRowPages.length-1,this.buildTableRows(),this.forceUpdate()},t.prototype.selectRow=function(e){return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.selectedRow=e,[4,this.doOutcome("OnSelect",e)];case 1:return t.sent(),[2]}}))}))},t.prototype.toggleSelectAll=function(e){var t=this;e.target.checked?this.currentRowMap.forEach((function(e,n){t.selectedRowMap.set(n,"")})):this.selectedRowMap.clear(),this.rows.forEach((function(e){e.forceUpdate()})),this.buildRibbon(),this.buildFooter(),this.saveSelected()},t.prototype.toggleSelect=function(e,t){e.target.checked?this.selectedRowMap.set(t,""):this.selectedRowMap.delete(t),this.rows.get(t).forceUpdate(),this.buildRibbon(),this.buildFooter(),this.saveSelected()},t.prototype.saveSelected=function(){return l(this,void 0,void 0,(function(){var e,t=this;return c(this,(function(n){switch(n.label){case 0:return e=new h.FlowObjectDataArray,this.selectedRowMap.forEach((function(n,o){var r=t.rowMap.get(o).objectData;r.isSelected=!0,e.addItem(r)})),[4,this.setStateValue(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.loadSelected=function(){return l(this,void 0,void 0,(function(){var e,t,n;return c(this,(function(o){if((t=this.getStateValue())&&t.items)for(e=new Map,n=0;n<t.items.length;n++)e.set(t.items[n].internalId,t.items[n]);return[2,e]}))}))},t.prototype.loadSingleSelected=function(){return l(this,void 0,void 0,(function(){var e,t,n,o,r,a,i;return c(this,(function(s){switch(s.label){case 0:return this.getAttribute("RowLevelState","").length>0&&this.rowRememberColumn?[4,this.loadValue(this.getAttribute("RowLevelState"))]:[3,2];case 1:if((e=s.sent()).value)try{for(t=u(this.rowMap.values()),n=t.next();!n.done;n=t.next())o=n.value,r=null==o?void 0:o.objectData,e.value.properties[this.rowRememberColumn].value===r.properties[this.rowRememberColumn].value&&(this.selectedRow=r.internalId)}catch(e){a={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(a)throw a.error}}s.label=2;case 2:return[2]}}))}))},t.prototype.buildTableRows=function(){return l(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){switch(t.label){case 0:return this.rowElements=[],this.currentRowMap&&this.currentRowMap.size>0&&this.currentRowPages&&this.currentRowPages.length>0&&this.currentRowPages[this.currentRowPage]?this.currentRowPages[this.currentRowPage].forEach((function(t,n){e.rowElements.push(p.default.createElement(N.default,{key:n,root:e,id:n,ref:function(t){e.setRow(n,t)}}))})):this.rowElements.push(p.default.createElement("tr",{className:"sft-table-row"},p.default.createElement("td",{colSpan:1e3},p.default.createElement("div",{className:"sft-table-row-noresults"},p.default.createElement("span",{className:"sft-table-row-noresults-title"},this.getAttribute("noResults","No Results Available")),this.filters.isFiltered()?p.default.createElement("span",{className:"sft-table-row-noresults-subtitle"},this.getAttribute("noResultsFilter","( This may be due to the filters applied )")):null)))),[4,this.buildRibbon()];case 1:return t.sent(),this.buildFooter(),this.forceUpdate(),[2]}}))}))},t.prototype.buildRibbon=function(){var e;return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,null===(e=this.ribbon)||void 0===e?void 0:e.generateButtons()];case 1:return!0===t.sent()&&this.forceUpdate(),[2]}}))}))},t.prototype.buildFooter=function(){var e;null===(e=this.footer)||void 0===e||e.forceUpdate()},t.prototype.showContextMenu=function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=new Map;this.contextMenu&&(Object.keys(this.outcomes).forEach((function(e){var o,r,a=t.outcomes[e];!0===a.isBulkAction&&"OnSelect"!==a.developerName&&a.developerName.toLowerCase().startsWith("cm")&&("true"===(null===(o=a.attributes.RequiresSelected)||void 0===o?void 0:o.value)&&t.selectedRowMap.size<1||n.set(a.developerName,p.default.createElement("li",{className:"sft-cm-item",title:a.label||e,onClick:function(n){n.stopPropagation(),t.cmClick(e)}},p.default.createElement("span",{className:"glyphicon glyphicon-"+((null===(r=a.attributes.icon)||void 0===r?void 0:r.value)||"plus")+" sft-cm-item-icon"}),p.default.createElement("span",{className:"sft-cm-item-label"},a.label||e))))})),"true"===this.getAttribute("canExport","true").toLowerCase()&&(n.set("exportall",p.default.createElement("li",{className:"sft-cm-item",title:"Export All",onClick:function(e){e.stopPropagation(),t.doExport(t.rowMap)}},p.default.createElement("span",{className:"glyphicon glyphicon-floppy-save sft-cm-item-icon"}),p.default.createElement("span",{className:"sft-cm-item-label"},"Export All"))),n.set("exportshown",p.default.createElement("li",{className:"sft-cm-item",title:"Export Search Results",onClick:function(e){e.stopPropagation(),t.doExport(t.currentRowMap)}},p.default.createElement("span",{className:"glyphicon glyphicon-floppy-save sft-cm-item-icon"}),p.default.createElement("span",{className:"sft-cm-item-label"},"Export Shown"))),this.selectedRowMap.size>0&&n.set("exportselected",p.default.createElement("li",{className:"sft-cm-item",title:"Export Selected Items",onClick:function(e){e.stopPropagation(),t.doExport(t.selectedRowMap)}},p.default.createElement("span",{className:"glyphicon glyphicon-floppy-save sft-cm-item-icon"}),p.default.createElement("span",{className:"sft-cm-item-label"},"Export Selected")))),this.contextMenu.showContextMenu(e.clientX,e.clientY,n),this.forceUpdate())},t.prototype.hideContextMenu=function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){return this.contextMenu.hideContextMenu(),[2]}))}))},t.prototype.cmClick=function(e){this.doOutcome(e)},t.prototype.getTextValue=function(e){switch(e.contentType){case h.eContentType.ContentBoolean:return!0===e.value?"True":"False";case h.eContentType.ContentNumber:return e.value.toString();default:return e.value}},t.prototype.doOutcome=function(e,t,n){var o,r,a,i,s,u,d,f;return l(this,void 0,void 0,(function(){var l,m,v,b,y,g,w,C,E,I,O,x,N,_;return c(this,(function(c){switch(c.label){case 0:return t&&this.getAttribute("RowLevelState","").length>0?(l=null===(o=this.rowMap.get(t))||void 0===o?void 0:o.objectData,[4,this.loadValue(this.getAttribute("RowLevelState"))]):[3,4];case 1:return(g=c.sent())?(g.value=l,[4,this.updateValues(g)]):[3,3];case 2:c.sent(),c.label=3;case 3:this.rowRememberColumn&&sessionStorage.setItem("sft-lastrow-"+this.componentId,null===(r=l.properties[this.rowRememberColumn])||void 0===r?void 0:r.value),c.label=4;case 4:if(!this.outcomes[e])return[3,17];switch(m=this.outcomes[e],!0){case(null===(a=m.attributes.uri)||void 0===a?void 0:a.value.length)>0:return[3,5];case(null===(d=null===(u=m.attributes)||void 0===u?void 0:u.form)||void 0===d?void 0:d.value.length)>0&&!0!==n:return[3,13]}return[3,14];case 5:v=m.attributes.uri.value,b=void 0,c.label=6;case 6:return(b=RegExp(/{{([^}]*)}}/).exec(v))?(!1===m.isBulkAction&&(l=null===(i=this.rowMap.get(t))||void 0===i?void 0:i.objectData),l&&l.properties[b[1]]?(v=v.replace(b[0],l.properties[b[1]]?this.getTextValue(l.properties[b[1]]):""),[3,11]):[3,7]):[3,12];case 7:return"TENANT_ID"===b[1]?[3,8]:[3,9];case 8:return v=v.replace(b[0],this.tenantId),[3,11];case 9:return y=b[1].split("->"),[4,this.loadValue(y[0])];case 10:if(g=c.sent(),w=void 0,g)if(y.length>1){for(C=g.value,E=1;E<y.length;E++)C=C.properties[y[E]].value;w=C}else w=g.value;v=v.replace(b[0],w),c.label=11;case 11:return[3,6];case 12:return"_self"===(null===(s=this.outcomes[e].attributes.target)||void 0===s?void 0:s.value)?window.location.href=v:(I=window.open(""))?I.location.href=v:console.log("Couldn't open a new tab"),[3,16];case 13:return O=JSON.parse(m.attributes.form.value),l=null===(f=this.rowMap.get(t))||void 0===f?void 0:f.objectData,x={id:this.componentId,flowKey:this.flowKey,okOutcome:this.okOutcomeForm,cancelOutcome:this.cancelOutcomeForm,objData:l,outcome:m,form:O,sft:this},N=manywho.component.getByName(O.class),_=p.default.createElement(N,x),this.messageBox.showMessageBox(O.title,_,[new h.modalDialogButton("Ok",this.okOutcomeForm),new h.modalDialogButton("Cancel",this.cancelOutcomeForm)]),this.forceUpdate(),[3,16];case 14:return[4,this.triggerOutcome(e)];case 15:return c.sent(),[3,16];case 16:return[3,18];case 17:manywho.component.handleEvent(this,manywho.model.getComponent(this.componentId,this.flowKey),this.flowKey,null),c.label=18;case 18:return this.forceUpdate(),[2]}}))}))},t.prototype.cancelOutcomeForm=function(){this.messageBox.hideMessageBox(),this.form=null,this.forceUpdate()},t.prototype.okOutcomeForm=function(){var e,t;return l(this,void 0,void 0,(function(){var n,o,r,a,i;return c(this,(function(s){switch(s.label){case 0:return!0!==this.form.validate()?[3,5]:[4,null===(e=this.form)||void 0===e?void 0:e.makeObjectData()];case 1:return n=s.sent(),o=null===(t=this.form.props.objData)||void 0===t?void 0:t.internalId,r=this.form.props.outcome,(a=this.form.props.form).state&&n?[4,this.loadValue(a.state)]:[3,4];case 2:return(i=s.sent())?(i.value=n,[4,this.updateValues(i)]):[3,4];case 3:s.sent(),s.label=4;case 4:this.messageBox.hideMessageBox(),this.form=null,this.doOutcome(r.developerName,o,!0),this.forceUpdate(),s.label=5;case 5:return[2]}}))}))},t.prototype.doExport=function(e){return l(this,void 0,void 0,(function(){var t,n,o=this;return c(this,(function(r){return t=new Map,e.forEach((function(e,n){t.set(n,o.rowMap.get(n))})),"true"===this.getAttribute("exportUserColumns","false").toLowerCase()?(n=new Map,this.userColumns.forEach((function(e){o.colMap.has(e)&&n.set(e,o.colMap.get(e))}))):n=this.colMap,g.default.export(n,t,"export.csv"),this.outcomes.OnExport&&this.triggerOutcome("OnExport"),[2]}))}))},t.prototype.playVideo=function(e,t,n){this.messageBox.showMessageBox(e,p.default.createElement("video",{style:{width:"100%",minWidth:"10rem",height:"97%"},autoPlay:!0,controls:!0},p.default.createElement("source",{src:t,type:n}),"Your browser does not support the video tag."),[new h.modalDialogButton("Close",this.messageBox.hideMessageBox)])},t.prototype.playAudio=function(e,t,n){this.messageBox.showMessageBox(e,p.default.createElement("audio",{controls:!0,autoPlay:!0,style:{width:"100%",minWidth:"10rem",height:"97%"}},p.default.createElement("source",{src:t,type:n}),"Your browser does not support the audio tag."),[new h.modalDialogButton("Close",this.messageBox.hideMessageBox)])},t.prototype.render=function(){var e=this,t="sft "+this.getAttribute("classes",""),n={width:"-webkit-fill-available",height:"-webkit-fill-available"};!1===this.model.visible&&(n.display="none"),this.model.width&&(n.width=this.model.width+"px"),this.model.height>0?n.height=this.model.height+"px":n.height=this.getAttribute("height","60vh"),this.model.label;var o,r=6;return r="search"===this.getAttribute("RibbonStyle","ribbon")?4:6,this.titleElement&&(r+=2.5),o=!1===this.loaded&&this.loadingState!==h.eLoadingState.ready?p.default.createElement("div",{className:"sft-loading"},p.default.createElement("div",{className:"sft-loading-inner",style:{margin:"auto",display:"flex",flexDirection:"column"}},this.attributes.LoadingIcon?p.default.createElement("img",{className:"sft-loading-image",src:this.attributes.LoadingIcon.value}):void 0,p.default.createElement("span",{className:"sft-loading-label"},"Loading"))):p.default.createElement("div",{className:"sft-scroller-body",ref:function(t){e.tableBody=t}},p.default.createElement("table",{style:{minWidth:"100%"}},p.default.createElement("thead",null,this.headersElement),p.default.createElement("tbody",null,this.rowElements),p.default.createElement("tfoot",null))),this.lastContent=p.default.createElement("div",{className:t,style:n,onContextMenu:this.showContextMenu},p.default.createElement(h.FlowMessageBox,{parent:this,ref:function(t){e.messageBox=t}}),p.default.createElement(h.FlowContextMenu,{parent:this,ref:function(t){e.contextMenu=t}}),this.titleElement,this.ribbonElement,p.default.createElement("div",{className:"sft-body",style:{top:r+"rem"}},p.default.createElement("div",{className:"sft-scroller",ref:function(t){e.scroller=t}},o)),this.footerElement),this.lastContent},t}(h.FlowComponent);t.default=_,manywho.component.register("SearchFilterTable",_)},7368:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(7363)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),this.maxPerPageChanged=this.maxPerPageChanged.bind(this)},t.prototype.maxPerPageChanged=function(e){this.props.root.maxPerPageChanged(parseInt(this.maxPerPage.options[this.maxPerPage.selectedIndex].value))},t.prototype.render=function(){var e,t,n,o,r=this,a=this.props.root,s="Selected "+a.selectedRowMap.size+" of "+a.currentRowMap.size+" items from a total dataset of "+a.rowMap.size,l="page "+(a.currentRowPage+1)+" of "+a.currentRowPages.length;a.currentRowPage>0?(e=i.default.createElement("span",{className:"glyphicon glyphicon-fast-backward sft-footer-pagination-button",title:"First page",onClick:a.firstPage}),t=i.default.createElement("span",{className:"glyphicon glyphicon-step-backward sft-footer-pagination-button",title:"Previous page",onClick:a.previousPage})):(e=i.default.createElement("span",{className:"glyphicon glyphicon-fast-backward sft-footer-pagination-button sft-footer-pagination-button-disabled"}),t=i.default.createElement("span",{className:"glyphicon glyphicon-step-backward sft-footer-pagination-button sft-footer-pagination-button-disabled"})),a.currentRowPage<a.currentRowPages.length-1?(o=i.default.createElement("span",{className:"glyphicon glyphicon-fast-forward sft-footer-pagination-button",title:"Last page",onClick:a.lastPage}),n=i.default.createElement("span",{className:"glyphicon glyphicon-step-forward sft-footer-pagination-button",title:"Next page",onClick:a.nextPage})):(o=i.default.createElement("span",{className:"glyphicon glyphicon-fast-forward sft-footer-pagination-button sft-footer-pagination-button-disabled"}),n=i.default.createElement("span",{className:"glyphicon glyphicon-step-forward sft-footer-pagination-button sft-footer-pagination-button-disabled"}));var c=[];c.push(10,20,50,100),c.indexOf(a.maxPageRows)<0&&c.push(a.maxPageRows),c=c.sort((function(e,t){return e-t}));var u=[];c.forEach((function(e){u.push(i.default.createElement("option",{value:e,selected:a.maxPageRows===e},e))}));var d=i.default.createElement("select",{className:"sft-footer-select",onChange:this.maxPerPageChanged,ref:function(e){r.maxPerPage=e}},u);return i.default.createElement("div",{className:"sft-footer"},i.default.createElement("div",{className:"sft-footer-summary"},i.default.createElement("span",{className:"sft-footer-summary-label"},s)),i.default.createElement("div",{className:"sft-footer-spacer"}),i.default.createElement("div",{className:"sft-footer-perpage"},i.default.createElement("div",{className:"sft-footer-perpage-label"},"Items per page"),i.default.createElement("div",{className:"sft-footer-perpage-dropdown"},d)),i.default.createElement("div",{className:"sft-footer-pagination"},e,t,i.default.createElement("span",{className:"sft-footer-pagination-label"},l),n,o))},t}(i.default.Component);t.default=s},8893:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(7363)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.dragEnter=n.dragEnter.bind(n),n.dragLeave=n.dragLeave.bind(n),n}return r(t,e),t.prototype.dragEnter=function(){this.mask.style.zIndex=1e4,this.th.classList.add("sft-column-header-wrapper-droppable")},t.prototype.dragLeave=function(){this.mask.style.zIndex=-1,this.th.classList.remove("sft-column-header-wrapper-droppable")},t.prototype.render=function(){var e,t,n,o=this,r=this.props.root,a=this.props.parent,s=this.props.column;!0!==this.props.static&&(t=r.filters.getSortIcon(s.developerName),!0===this.props.inlineSearch&&(e=r.filters.getFilterIcon(s.developerName)),n=r.filters.getQuickCheck(s.developerName));var l="sft-column-header";return this.props.sticky&&(l+=" sft-header-sticky"),i.default.createElement("th",{key:s.developerName,className:l,style:{pointerEvents:"all"},ref:function(e){o.th=e}},i.default.createElement("div",{className:"sft-column-header-wrapper",style:{display:"flex",flexDirection:"row",pointerEvents:"all"},draggable:r.dynamicColumns,onDragStart:function(e){a.dragColumn(e,s.developerName)},onDragEnter:function(e){a.onDragEnter(e)},onDragLeave:function(e){a.onDragLeave(e)},onDragOver:function(e){a.onDragOver(e)},onDrop:function(e){a.onDrop(e)},"data-fieldName":s.developerName},i.default.createElement("div",{className:"sft-column-header-top",style:{pointerEvents:"all"}},i.default.createElement("div",{className:"sft-column-header-flags",style:{pointerEvents:"all"}},t),i.default.createElement("div",{className:"sft-column-header-title",style:{pointerEvents:"all"}},i.default.createElement("span",{className:"sft-column-header-title-label"},s.label)),i.default.createElement("div",{style:{pointerEvents:"all"},className:"sft-column-header-buttons"},e,n)),i.default.createElement("div",{className:"sft-column-header-bottom",style:{pointerEvents:"all"}}),i.default.createElement("div",{style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",pointerEvents:"all",zIndex:-1},ref:function(e){o.mask=e}})))},t}(i.default.Component);t.default=s},4271:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(7363)),c=s(n(8893)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.headers=new Map,n.setHeader=n.setHeader.bind(n),n.dragColumn=n.dragColumn.bind(n),n.onDragEnter=n.onDragEnter.bind(n),n.onDragOver=n.onDragOver.bind(n),n.onDragLeave=n.onDragLeave.bind(n),n.onDrop=n.onDrop.bind(n),n.moveColumn=n.moveColumn.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.setHeader=function(e,t){t?this.headers.set(e,t):this.headers.delete(e)},t.prototype.dragColumn=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("column",t),this.draggedFieldName=t},t.prototype.onDragEnter=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.getAttribute("data-fieldName");this.draggedFieldName&&this.draggedFieldName!==t?(this.headers.get(t).dragEnter(),e.dataTransfer.dropEffect="move"):e.dataTransfer.dropEffect="none"},t.prototype.onDragLeave=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.getAttribute("data-fieldName");this.headers.get(t).dragLeave()},t.prototype.onDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.getData("column"),e.currentTarget.getAttribute("data-fieldName")},t.prototype.onDrop=function(e){return a(this,void 0,void 0,(function(){var t,n;return i(this,(function(o){switch(o.label){case 0:return this.props.root,e.preventDefault(),e.stopPropagation(),t=e.dataTransfer.getData("column"),n=e.currentTarget.getAttribute("data-fieldName"),this.draggedFieldName=void 0,e.dataTransfer.clearData(),e.currentTarget.parentElement.classList.remove("sft-column-header-wrapper-droppable"),t&&t!==n?[4,this.moveColumn(t,n)]:[3,2];case 1:o.sent(),this.forceUpdate(),o.label=2;case 2:return[2]}}))}))},t.prototype.moveColumn=function(e,t){return a(this,void 0,void 0,(function(){var n;return i(this,(function(o){return n=this.props.root,console.log("move "+e+" before "+t),n.userColumns.splice(n.userColumns.indexOf(t),0,n.userColumns.splice(n.userColumns.indexOf(e),1)[0]),n.columnsReordered(),[2]}))}))},t.prototype.render=function(){var e=this;this.headers=new Map;var t=[],n=this.props.root,o=[],r=!1;if(Object.keys(n.outcomes).forEach((function(e){!1===n.outcomes[e].isBulkAction&&(n.supressedOutcomes.has(e)||(r=!0),o.push(e))})),n.colMap.size>0){n.model.multiSelect&&t.push(l.default.createElement("th",{key:"checks",className:"sft-check-header",ref:function(t){e.setHeader("checks",t)}},l.default.createElement("input",{className:"sft-checkbox",type:"checkbox",onClick:function(e){n.toggleSelectAll(e)}})));var a=parseInt(n.getAttribute("stickyColumns","0"));n.userColumns.forEach((function(o){if("#BUTTONS#"===o)r&&t.push(l.default.createElement(c.default,{root:e.props.root,parent:e,column:{developerName:"#BUTTONS#",label:n.getAttribute("OutcomesLabel","Action")},static:!0,inlineSearch:e.props.inlineSearch,ref:function(t){e.setHeader("#BUTTONS#",t)},sticky:a>0}));else{var i=n.colMap.get(o);i?t.push(l.default.createElement(c.default,{root:e.props.root,parent:e,column:i,inlineSearch:e.props.inlineSearch,ref:function(t){e.setHeader(i.developerName,t)},sticky:a>0})):(n.userColumns.splice(n.userColumns.indexOf(o),1),n.saveUserColumns())}a>0&&a--}))}return l.default.createElement("tr",{className:"sft-column-headers"},t)},t}(l.default.Component);t.default=u},6289:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(7363)),c=s(n(2582)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.generateButtons=n.generateButtons.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.generateButtons()];case 1:return e.sent(),[2]}}))}))},t.prototype.generateButtons=function(){var e,t,n,o,r,s,u,d,p,h,f,m,v,b,y,g,w,C,E,I,O,x,N,_,k,T,S,D,M;return a(this,void 0,void 0,(function(){var a,P,j,F,R,A;return i(this,(function(B){switch(B.label){case 0:this.leftButtons=[],this.rightButtons=[],a=this.props.root,!0==(P="true"===a.getAttribute("canExport","false").toLowerCase())&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-button-wrapper",onClick:function(e){e.stopPropagation(),a.doExport(a.rowMap)}},!(null===(e=a.attributes)||void 0===e?void 0:e.RibbonDisplay)||(null===(n=null===(t=a.attributes)||void 0===t?void 0:t.RibbonDisplay)||void 0===n?void 0:n.value.indexOf("icon"))>=0?l.default.createElement("span",{key:"exportAll",className:"glyphicon glyphicon-floppy-save sft-ribbon-button-icon",title:"Export All"}):null,!(null===(o=a.attributes)||void 0===o?void 0:o.RibbonDisplay)||(null===(s=null===(r=a.attributes)||void 0===r?void 0:r.RibbonDisplay)||void 0===s?void 0:s.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-button-label"},"Export All"):null)),a.rowMap.size>a.currentRowMap.size&&!0===P&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-button-wrapper",onClick:function(e){e.stopPropagation(),a.doExport(a.currentRowMap)}},!(null===(u=a.attributes)||void 0===u?void 0:u.RibbonDisplay)||(null===(p=null===(d=a.attributes)||void 0===d?void 0:d.RibbonDisplay)||void 0===p?void 0:p.value.indexOf("icon"))>=0?l.default.createElement("span",{key:"exportShown",className:"glyphicon glyphicon-floppy-save sft-ribbon-button-icon",title:"Export Shown"}):null,!(null===(h=a.attributes)||void 0===h?void 0:h.RibbonDisplay)||(null===(m=null===(f=a.attributes)||void 0===f?void 0:f.RibbonDisplay)||void 0===m?void 0:m.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-button-label"},"Export Shown"):null)),j=Array.from(Object.values(a.outcomes)),F=function(e){var t;return i(this,(function(n){switch(n.label){case 0:return!(t=j[e]).isBulkAction||"OnSelect"===t.developerName||"OnChange"===t.developerName||t.developerName.toLowerCase().startsWith("cm")?[3,2]:[4,c.default.assessGlobalOutcomeRule(t,a)];case 1:!0===n.sent()&&R.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-button-wrapper",onClick:function(e){a.doOutcome(t.developerName,void 0)}},(null===(v=t.attributes)||void 0===v?void 0:v.icon)?l.default.createElement("span",{key:t.developerName,className:"glyphicon glyphicon-"+((null===(b=t.attributes.icon)||void 0===b?void 0:b.value)||"plus")+" sft-ribbon-button-icon",title:t.label||t.developerName}):null,!(null===(y=t.attributes)||void 0===y?void 0:y.display)||(null===(g=t.attributes.display)||void 0===g?void 0:g.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-button-label"},t.label):null)),n.label=2;case 2:return[2]}}))},R=this,A=0,B.label=1;case 1:return A<j.length?[5,F(A)]:[3,4];case 2:B.sent(),B.label=3;case 3:return A++,[3,1];case 4:return(null===(w=a.model.content)||void 0===w?void 0:w.length)>0&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:function(e){a.showInfo()}},l.default.createElement("span",{key:"colpick",className:"glyphicon sft-ribbon-search-button-icon glyphicon-"+((null===(C=a.attributes)||void 0===C?void 0:C.InfoIcon)?a.attributes.InfoIcon.value:"question-sign"),title:"Infornation"}),!(null===(E=a.attributes)||void 0===E?void 0:E.RibbonDisplay)||(null===(I=a.attributes.RibbonDisplay)||void 0===I?void 0:I.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},"Column Picker"):null)),!0===a.dynamicColumns&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-button-wrapper",onClick:function(e){a.showColumnPicker()}},l.default.createElement("span",{key:"colpick",className:"glyphicon sft-ribbon-button-icon glyphicon-"+((null===(O=a.attributes)||void 0===O?void 0:O.ColumnsIcon)?a.attributes.ColumnsIcon.value:"option-vertical"),title:"Select columns"}),!(null===(x=a.attributes)||void 0===x?void 0:x.RibbonDisplay)||(null===(N=a.attributes.RibbonDisplay)||void 0===N?void 0:N.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-button-label"},"Column Picker"):null)),a.selectedRowMap.size>0&&!0===P&&this.leftButtons.push(l.default.createElement("div",{className:"sft-ribbon-button-wrapper",onClick:function(e){e.stopPropagation(),a.doExport(a.selectedRowMap)}},!(null===(_=a.attributes)||void 0===_?void 0:_.RibbonDisplay)||(null===(T=null===(k=a.attributes)||void 0===k?void 0:k.RibbonDisplay)||void 0===T?void 0:T.value.indexOf("icon"))>=0?l.default.createElement("span",{key:"exportSelected",className:"glyphicon glyphicon-floppy-save sft-ribbon-button-icon",title:"Export Selected"}):null,!(null===(S=a.attributes)||void 0===S?void 0:S.RibbonDisplay)||(null===(M=null===(D=a.attributes)||void 0===D?void 0:D.RibbonDisplay)||void 0===M?void 0:M.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-button-label"},"Export Selected"):null)),this.forceUpdate(),[2,!0]}}))}))},t.prototype.render=function(){var e={};return this.props.root.titleElement&&(e.top="2.5rem"),l.default.createElement("div",{className:"sft-ribbon",style:e},l.default.createElement("div",{className:"sft-ribbon-left-wrapper"},l.default.createElement("div",{className:"sft-ribbon-title-wrapper"},l.default.createElement("span",{className:"sft-ribbon-title"},"Available actions:")),l.default.createElement("div",{className:"sft-ribbon-hbuttons-wrapper"},this.leftButtons)),l.default.createElement("div",{className:"sft-ribbon-right-wrapper"},l.default.createElement("div",{className:"sft-ribbon-title-wrapper"},l.default.createElement("span",{className:"sft-ribbon-title"})),l.default.createElement("div",{className:"sft-ribbon-hbuttons-wrapper"},this.rightButtons)))},t}(l.default.Component);t.default=u},7599:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(7363)),c=s(n(2582)),u=function(e){function t(t){var n=e.call(this,t)||this;n.previousFilter="",n.deBounce=!1,n.generateButtons=n.generateButtons.bind(n),n.clearSearch=n.clearSearch.bind(n),n.showSearch=n.showSearch.bind(n),n.clearFilters=n.clearFilters.bind(n),n.filterKeyDown=n.filterKeyDown.bind(n),n.filterChanged=n.filterChanged.bind(n),n.filterCommitted=n.filterCommitted.bind(n);var o=n.props.root;return n.currentFilter=o.filters.globalCriteria,n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.generateButtons()];case 1:return e.sent(),[2]}}))}))},t.prototype.generateButtons=function(){var e,t,n,o,r,s,u,d,p,h,f,m,v,b,y,g,w,C,E;return a(this,void 0,void 0,(function(){var a,I,O,x,N,_;return i(this,(function(k){switch(k.label){case 0:if(!0===this.deBounce)return[2,!1];this.deBounce=!0,a=this.props.root,this.leftButtons=[],this.rightButtons=[],!0==(I="true"===a.getAttribute("canExport","true").toLowerCase())&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:function(e){e.stopPropagation(),a.doExport(a.rowMap)}},l.default.createElement("span",{key:"exportAll",className:"glyphicon glyphicon-floppy-save sft-ribbon-search-button-icon",title:"Export All"}),!(null===(e=a.attributes)||void 0===e?void 0:e.RibbonDisplay)||(null===(t=a.attributes.RibbonDisplay)||void 0===t?void 0:t.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},"Export All"):null)),a.rowMap.size>a.currentRowMap.size&&!0===I&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:function(e){e.stopPropagation(),a.doExport(a.currentRowMap)}},l.default.createElement("span",{key:"exportShown",className:"glyphicon glyphicon-floppy-save sft-ribbon-search-button-icon",title:"Export Shown"}),!(null===(n=a.attributes)||void 0===n?void 0:n.RibbonDisplay)||(null===(o=a.attributes.RibbonDisplay)||void 0===o?void 0:o.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},"Export Shown"):null)),O=Array.from(Object.values(a.outcomes)),x=function(e){var t;return i(this,(function(n){switch(n.label){case 0:return!(t=O[e]).isBulkAction||"OnSelect"===t.developerName||"OnChange"===t.developerName||t.developerName.toLowerCase().startsWith("cm")?[3,2]:[4,c.default.assessGlobalOutcomeRule(t,a)];case 1:!0===n.sent()&&N.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper "+(null===(s=null===(r=t.attributes)||void 0===r?void 0:r.classes)||void 0===s?void 0:s.value),onClick:function(e){a.doOutcome(t.developerName,void 0)}},(null===(u=t.attributes)||void 0===u?void 0:u.icon)?l.default.createElement("span",{key:t.developerName,className:"glyphicon glyphicon-"+((null===(d=t.attributes.icon)||void 0===d?void 0:d.value)||"plus")+" sft-ribbon-search-button-icon",title:t.label||t.developerName}):null,!(null===(p=t.attributes)||void 0===p?void 0:p.display)||(null===(h=t.attributes.display)||void 0===h?void 0:h.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},t.label):null)),n.label=2;case 2:return[2]}}))},N=this,_=0,k.label=1;case 1:return _<O.length?[5,x(_)]:[3,4];case 2:k.sent(),k.label=3;case 3:return _++,[3,1];case 4:return(null===(f=a.model.content)||void 0===f?void 0:f.length)>0&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:function(e){a.showInfo()}},l.default.createElement("span",{key:"colpick",className:"glyphicon sft-ribbon-search-button-icon glyphicon-"+((null===(m=a.attributes)||void 0===m?void 0:m.InfoIcon)?a.attributes.InfoIcon.value:"question-sign"),title:"Infornation"}),!(null===(v=a.attributes)||void 0===v?void 0:v.RibbonDisplay)||(null===(b=a.attributes.RibbonDisplay)||void 0===b?void 0:b.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},"Column Picker"):null)),!0===a.dynamicColumns&&this.rightButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:function(e){a.showColumnPicker()}},l.default.createElement("span",{key:"colpick",className:"glyphicon sft-ribbon-search-button-icon glyphicon-"+((null===(y=a.attributes)||void 0===y?void 0:y.ColumnsIcon)?a.attributes.ColumnsIcon.value:"option-vertical"),title:"Select columns"}),!(null===(g=a.attributes)||void 0===g?void 0:g.RibbonDisplay)||(null===(w=a.attributes.RibbonDisplay)||void 0===w?void 0:w.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},"Column Picker"):null)),a.selectedRowMap.size>0&&!0===I&&this.leftButtons.push(l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:function(e){e.stopPropagation(),a.doExport(a.selectedRowMap)}},l.default.createElement("span",{key:"exportSelected",className:"glyphicon glyphicon-floppy-save sft-ribbon-search-button-icon",title:"Export Selected"}),!(null===(C=a.attributes)||void 0===C?void 0:C.RibbonDisplay)||(null===(E=a.attributes.RibbonDisplay)||void 0===E?void 0:E.value.indexOf("text"))>=0?l.default.createElement("span",{className:"sft-ribbon-search-button-label"},"Export Selected"):null)),a.filters.isFiltered()?this.clearFiltersButton=l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper sft-ribbon-search-button-clear",onClick:this.clearFilters},l.default.createElement("span",{key:"clearFilters",className:"glyphicon glyphicon-trash sft-ribbon-search-button-icon sft-ribbon-search-button-icon-clear",title:"Clear Filters"})):this.clearFiltersButton=void 0,this.deBounce=!1,this.forceUpdate(),[2,!0]}}))}))},t.prototype.clearSearch=function(e){this.currentFilter="",this.filterCommitted()},t.prototype.filterChanged=function(){this.currentFilter=this.searchInput.value,this.forceUpdate()},t.prototype.filterCommitted=function(){this.currentFilter!==this.previousFilter&&(this.previousFilter=this.currentFilter,this.props.root.globalFilterChanged(this.currentFilter))},t.prototype.filterKeyDown=function(e){switch(e.key){case"Enter":return e.preventDefault(),e.stopPropagation(),this.filterCommitted(),!1;case"Escape":return e.preventDefault(),e.stopPropagation(),this.searchInput.value=this.previousFilter,!1;case"Escape":return e.preventDefault(),e.stopPropagation(),this.searchInput.value="",!1;case"Tab":return this.filterCommitted(),!1}},t.prototype.showSearch=function(e){this.props.root.manageFilters()},t.prototype.clearFilters=function(e){return a(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return(e=this.props.root).filters.clearAll(),[4,e.buildRibbon()];case 1:return t.sent(),[2]}}))}))},t.prototype.render=function(){var e=this,t={};return this.props.root.titleElement&&(t.top="2.5rem"),l.default.createElement("div",{className:"sft-ribbon-search",style:t},l.default.createElement("div",{className:"sft-ribbon-search-left-wrapper"},l.default.createElement("div",{className:"sft-ribbon-search-wrapper"},l.default.createElement("span",{className:"glyphicon glyphicon-search sft-ribbon-search-icon",onClick:this.filterCommitted}),l.default.createElement("input",{className:"sft-ribbon-search-input",ref:function(t){e.searchInput=t},onKeyDown:this.filterKeyDown,onKeyUp:function(e){e.stopPropagation(),e.preventDefault()},onChange:this.filterChanged,value:this.currentFilter}),l.default.createElement("span",{className:"glyphicon glyphicon-remove sft-ribbon-search-icon",role:"button",onClick:this.clearSearch})),l.default.createElement("div",{className:"sft-ribbon-search-button-wrapper",onClick:this.showSearch},l.default.createElement("span",{key:"showSearch",className:"glyphicon glyphicon-filter sft-ribbon-search-button-icon",title:"Advanced Search"})),this.clearFiltersButton),l.default.createElement("div",{className:"sft-ribbon-search-right-wrapper"},l.default.createElement("div",{className:"sft-ribbon-search-buttons-wrapper"},this.leftButtons,this.rightButtons)))},t}(l.default.Component);t.default=u},3047:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(279),c=s(n(7363)),u=s(n(2582)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={enabledOutcomes:[]},n.selectRow=n.selectRow.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){var e,t;return a(this,void 0,void 0,(function(){var n,o,r,a,s;return i(this,(function(i){switch(i.label){case 0:n=[],o=this.props.root,r=null===(e=o.rowMap.get(this.props.id))||void 0===e?void 0:e.objectData,a=Object.keys(o.outcomes),s=0,i.label=1;case 1:return s<a.length?!1!==o.outcomes[a[s]].isBulkAction||o.supressedOutcomes.has(o.outcomes[a[s]].developerName)?[3,3]:[4,u.default.assessRowOutcomeRule(o.outcomes[a[s]],r,o)]:[3,4];case 2:!0===i.sent()&&n.push(a[s]),i.label=3;case 3:return s++,[3,1];case 4:return o.lastRememberedRow&&(null===(t=r.properties[o.rowRememberColumn])||void 0===t?void 0:t.value)===o.lastRememberedRow&&this.rowElement.scrollIntoView({inline:"center",block:"center",behavior:"auto"}),this.setState({enabledOutcomes:n}),o.forceUpdate(),[2]}}))}))},t.prototype.selectRow=function(e){this.props.root.selectRow(this.props.id)},t.prototype.render=function(){var e,t=this,n=this.props.root,o=null===(e=n.rowMap.get(this.props.id))||void 0===e?void 0:e.objectData,r="";n.selectedRow===this.props.id&&(r+=" sft-table-row-selected ");var a=[],i=!1;Object.keys(n.outcomes).forEach((function(e){if(!1===n.outcomes[e].isBulkAction){n.supressedOutcomes.has(e)||(i=!0);var r=t.state.enabledOutcomes.indexOf(e)>=0;if(!0===r){var s=void 0,l=void 0;(!n.outcomes[e].attributes.display||n.outcomes[e].attributes.display.value.indexOf("text")>=0)&&(l=c.default.createElement("span",{className:"sft-table-cell-button-element sft-table-cell-button-label"},n.outcomes[e].label)),n.outcomes[e].attributes.display&&n.outcomes[e].attributes.display.value.indexOf("icon")>=0&&("null"===n.outcomes[e].attributes.icon.value.toLowerCase()&&(r=!1),s=c.default.createElement("span",{className:"sft-table-cell-button-element sft-table-cell-button-icon glyphicon glyphicon-"+(n.outcomes[e].attributes.icon.value||"plus")})),!0===r&&a.push(c.default.createElement("div",{className:"sft-table-cell-button",title:n.outcomes[e].label,onClick:function(t){n.doOutcome(e,o.internalId)}},s,l))}}}));var s=[];return n.model.multiSelect&&s.push(c.default.createElement("td",{className:"sft-table-cell sft-table-cell-check"},c.default.createElement("input",{className:"sft-checkbox",type:"checkbox",onClick:function(e){n.toggleSelect(e,t.props.id)},checked:n.selectedRowMap.has(this.props.id)}))),n.userColumns.forEach((function(e){if("#BUTTONS#"===e)i&&s.push(c.default.createElement("td",{className:"sft-table-cell"},c.default.createElement("div",{className:"sft-table-cell-buttons"},a)));else{var l=n.colMap.get(e);if(l){var u=t.formatValue(l.componentType,l.contentType,n,l.developerName,o),d=u.result;r.length>0&&(r+=" "),r+=u.rowClass,s.push(c.default.createElement("td",{className:"sft-table-cell "+u.cellClass},d))}else console.log("Failed to get a definition for col "+e)}})),c.default.createElement("tr",{className:"sft-table-row "+r,ref:function(e){t.rowElement=e},onClick:this.selectRow},s)},t.prototype.formatValue=function(e,t,n,o,r){var a,i,s,u=this,d="",p="";if("true"===n.getAttribute("ComplexColumns","false").toLowerCase()){var h=n.getAttribute("ComplexColumnsChildren","Columns"),f=n.getAttribute("ComplexColumnName","Name"),m=n.getAttribute("ComplexColumnValue","Value");r.properties[h].value.items.forEach((function(e){var t=e.properties[f].value;if(t===o){e.properties[m].value;var r=n.colMap.get(o).contentType;s=l.FlowObjectDataProperty.newInstance(t,r,e)}}))}else s=null==r?void 0:r.properties[o];if(s&&s.developerName)if(n.columnRules.has(s.developerName)){var v=n.columnRules.get(s.developerName).generateColumnContent(s,r,n);i=v.content,d=v.rowClass,p=v.cellClass}else if((null==e?void 0:e.length)>0){var b={id:r.internalId,propertyId:s.typeElementPropertyId,contentValue:s.value,objectData:s.value,flowKey:n.flowKey,contentType:s.contentType,contentFormat:s.contentFormat,row:r,sft:n};i=c.default.createElement(manywho.component.getByName(e),b)}else switch(t){case l.eContentType.ContentDateTime:var y=new Date(s.value);if(1==(y instanceof Date&&!isNaN(y.getTime()))){var g="";switch(n.getAttribute("DateFormat","LOCALE")){case"UTC":g=y.toUTCString();break;case"JSON":g=y.toJSON();break;default:g=y.toLocaleString()}i=c.default.createElement("span",{className:"sft-table-cell-text"},g)}else c.default.createElement("span",{className:"sft-table-cell-text"});break;case l.eContentType.ContentString:switch(!0){case!0===this.isJSON(s.value):i=c.default.createElement("button",{onClick:function(e){u.showJSON(s.developerName,s.value)}},"View JSON");break;case!0===this.isContent(s.value):i=c.default.createElement("button",{onClick:function(e){u.showContent(s.developerName,s.value)}},"View Content");break;case s.value.startsWith("http:"):case s.value.startsWith("https:"):var w;w=this.isUrlImage(s.value)?c.default.createElement("img",{src:s.value,style:{height:"2rem",width:"auto"},alt:s.value,title:s.value}):s.value,i=c.default.createElement("a",{href:s.value,target:"_blank"},w);break;case s.value.startsWith("data:"):var C=s.value.split(";")[0].split(":")[1];switch(!0){case C.startsWith("audio/"):i=c.default.createElement("audio",{controls:!0,style:{width:"100%",minWidth:"9rem"}},c.default.createElement("source",{src:s.value,type:C}));break;case C.startsWith("video/"):i=c.default.createElement("button",{className:"sft-table-cell-button",onClick:function(e){n.playVideo("Video",s.value,C)}},"Play Video");break;default:var E=this.makeFileName("file",C);i=c.default.createElement("a",{href:s.value,target:"_blank",download:E},"Download File")}break;case n.maxColText>0&&s.value.length>n.maxColText:i=c.default.createElement("button",{onClick:function(e){u.showContent(s.developerName,s.value)}},"View Content");break;default:i=c.default.createElement("span",{className:"sft-table-cell-text"},s.value)}break;case l.eContentType.ContentNumber:i=""===s.Value?c.default.createElement("span",{className:"sft-table-cell-text"}):c.default.createElement("span",{className:"sft-table-cell-text"},s.value);break;case l.eContentType.ContentBoolean:i="true"===(null===(a=s.Value)||void 0===a?void 0:a.toLowerCase())?c.default.createElement("span",{className:"sft-table-cell-text sft-table-cell-boolean sft-table-cell-boolean-true glyphicon glyphicon-ok"}):c.default.createElement("span",{className:"sft-table-cell-text sft-table-cell-boolean sft-table-cell-boolean-false glyphicon glyphicon-remove"});break;default:i=c.default.createElement("span",{className:"sft-table-cell-text"},"???")}else console.log("One of the columns in the table had a null name.  Check the table display columns settings in Flow");return{result:i,rowClass:d,cellClass:p}},t.prototype.isUrlImage=function(e){return!!(e.endsWith("jpg")||e.endsWith("jpeg")||e.endsWith("jfif")||e.endsWith("png")||e.endsWith("bmp")||e.endsWith("ico")||e.endsWith("gif"))},t.prototype.isJSON=function(e){if("null"===e&&(e=""),e.indexOf("{")<0)return!1;try{return e=(e=(e=(e=e.replaceAll("\\n ","")).replaceAll("\\n}","}")).replaceAll("\\",'"')).replaceAll('"','"'),JSON.parse(e),!0}catch(e){return!1}},t.prototype.showJSON=function(e,t){var n=this.props.root;t=(t=(t=(t=t.replaceAll("\\n ","")).replaceAll("\\n}","}")).replaceAll("\\",'"')).replaceAll('"','"');var o=JSON.stringify(JSON.parse(t),void 0,4),r=c.default.createElement("div",{style:{maxHeight:"40vmax",maxWidth:"60vmax",overflow:"auto"}},c.default.createElement("div",{style:{overflow:"visible",whiteSpace:"pre",textAlign:"left",fontSize:"1rem"}},o));n.messageBox.showMessageBox(e,r,[new l.modalDialogButton("Ok",n.messageBox.hideMessageBox)])},t.prototype.isContent=function(e){return"null"===e&&(e=""),!!(e.indexOf("\\n")>0||/<\/?[a-z][\s\S]*>/i.test(e))},t.prototype.showContent=function(e,t){t=(t=t.replaceAll("\\n","<br>")).replaceAll("<br><br>","<br>");var n=c.default.createElement("div",{style:{maxHeight:"40vmax",maxWidth:"60vmax",overflow:"auto"}},c.default.createElement("div",{style:{overflow:"visible",whiteSpace:"pre",fontSize:"1rem"},dangerouslySetInnerHTML:{__html:t}})),o=this.props.root;o.messageBox.showMessageBox(e,n,[new l.modalDialogButton("Ok",o.messageBox.hideMessageBox)])},t.prototype.makeFileName=function(e,t){return"audio/webm"===t?e+".webm":e},t}(c.default.Component);t.default=d},2629:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2182),t),r(n(7789),t),r(n(4983),t)},7363:e=>{"use strict";e.exports=React}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(2629)})();